{"version":3,"sources":["main/styles/GlobalStyles.tsx","main/styles/Normalize.tsx","foundations/components/presentation/heading/heading.tsx","main/style.tsx","main/useDispatch.ts","features/authentication/authenticationModel.ts","features/joinedConversations/joinedConversationModel.ts","features/users/userModel.ts","foundations/components/layout/styled-box/styled-box.tsx","foundations/components/layout/scroll-view/scroll-view.tsx","foundations/components/layout/flex-row/flex-row.tsx","foundations/components/layout/flex-column/flex-column.tsx","foundations/components/layout/modal/modal.tsx","foundations/components/layout/drawer/drawer.tsx","foundations/components/presentation/label/label.tsx","foundations/components/presentation/title/title.tsx","foundations/svg/add.svg","foundations/svg/back.svg","foundations/svg/cross.svg","foundations/svg/emoji.svg","foundations/svg/giphy.svg","foundations/svg/leave.svg","foundations/svg/logo.svg","foundations/svg/people.svg","foundations/svg/presence.svg","foundations/svg/search.svg","foundations/svg/send.svg","foundations/components/presentation/icon/icon.tsx","foundations/components/presentation/button/button.tsx","foundations/components/presentation/input/input.tsx","features/layout/LayoutActionType.ts","features/layout/LayoutReducer.ts","foundations/components/presentation/textarea/textarea.tsx","foundations/components/layout/list-item/list-item.tsx","foundations/hooks/useClickOutside.ts","foundations/components/layout/dropdown/dropdown.tsx","features/authentication/Login/Login.tsx","features/authentication/loginCommand.ts","features/layout/Selectors.ts","features/currentConversation/currentConversationModel.ts","features/conversations/conversationModel.ts","foundations/hooks/useHover.ts","foundations/hooks/useMediaQuery.ts","foundations/components/chat/text-message/text-message.tsx","foundations/components/chat/avatar/avatar.tsx","foundations/components/chat/image-message/image-message.tsx","foundations/components/chat/link-message/link-message.tsx","foundations/components/chat/giphy-message/giphy-message.tsx","features/pagination/PaginationActionType.ts","foundations/utilities/avatar-helpers.tsx","features/joinedConversations/ConversationItem/ConversationItem.tsx","features/layout/LayoutActions.ts","foundations/hooks/useVisibility.ts","foundations/hooks/usePagination.ts","features/pagination/Selectors.ts","features/pagination/PaginationActions.ts","sharedTypes/messageModel.ts","features/joinedConversations/MyConversations/MyConversations.tsx","features/joinedConversations/leaveConversationCommand.ts","features/currentUser/MyUserDetails/MyUserDetails.tsx","features/chat/Menu/Menu.tsx","features/memberPresence/memberPresenceModel.ts","features/conversationMembers/conversationMemberCountModel.ts","features/currentConversation/ConversationOccupancy/ConversationOccupancy.tsx","features/currentConversation/Header/Header.tsx","features/messages/AttachmentDisplay/AttachmentDisplay.tsx","features/gifs/Gif/Gif.tsx","features/messages/TextMessageDisplay/TextMessageDisplay.tsx","features/typingIndicator/typingIndicatorModel.ts","features/messages/GiphyMessageDisplay/GiphyMessageDisplay.tsx","features/messages/messageModel.ts","features/messages/MessageDisplay/MessageDisplay.tsx","features/currentConversation/MessageListItem/MessageListItem.tsx","foundations/utilities/convertTimestampToTime.tsx","features/currentConversation/MessageList/MessageList.tsx","features/joinedConversations/DraftsModel.ts","features/messages/sendMessage.ts","features/typingIndicator/sendTypingIndicator.ts","features/emoji/EmojiInput/EmojiInput.tsx","features/gifs/GifPicker/PlaceholderMessage.tsx","features/gifs/Masonry/Masonry.tsx","features/gifs/GifPicker/GifPicker.tsx","foundations/hooks/useDebounce.ts","features/gifs/GifInput/GifInput.tsx","features/emoji/EmojiSuggestion/EmojiSuggestion.tsx","features/messages/draft.ts","features/messages/TextMessageEditor/TextMessageEditor.tsx","features/messages/MessageEditor/MessageEditor.tsx","features/currentConversation/MessageInput/MessageInput.tsx","features/joinedConversations/discardMessageDraftCommand.ts","features/joinedConversations/updateMessageDraftCommand.ts","features/typingIndicator/TypingIndicatorDisplay/TypingIndicatorDisplay.tsx","features/currentConversation/CurrentConversation/CurrentConversation.tsx","features/conversationMembers/conversationMemberModel.ts","features/conversationMembers/MemberDescription/MemberDescription.tsx","features/conversationMembers/ConversationMembers/ConversationMembers.tsx","features/joinedConversations/ConversationDescription/ConversationDescription.tsx","features/joinedConversations/JoinConversationDialog/JoinConversationDialog.tsx","features/joinedConversations/joinConversationCommand.ts","features/chat/Chat/Chat.tsx","config/pubnub-keys.ts","foundations/utilities/isPubNubConfigured.tsx","main/Router.tsx","main/Theme.ts","features/currentUser/networkStatusModel.ts","features/pagination/PaginationReducer.ts","main/rootReducer.ts","main/preloadedState.ts","main/store.ts","main/App.tsx","main/serviceWorker.ts","index.tsx","foundations/components/chat/giphy-message/attribution.png","features/authentication/Login/background.png","features/authentication/Login/logo.svg","features/authentication/Login/screenshot.png"],"names":["GlobalStyles","createGlobalStyle","theme","colors","importantText","fonts","app","fontSizes","regular","fontWeights","space","HeadingVariants","HeadingSizes","Normalize","Wrapper","styled","div","useDispatch","OriginalUseDispatch","initialState","isLoggingIn","getAuthenticationStateSlice","state","authentication","getLoggedInUserId","createSelector","authenticationState","invariant","undefined","loggedInUserId","isUserLoggedIn","getConversationsByUserId","joinedConversations","conversations","byId","JoinedConversationsStateReducer","createMembershipReducer","UsersReducer","createUserDataReducer","getUsersById","users","StyledBox","Styled","layout","position","color","background","border","ScrollView","FlexRow","flexbox","FlexColumn","Overlay","backgrounds","panel","mediaQueries","medium","large","Dialog","motion","section","radii","square","strong","shadows","Modal","open","children","rest","WrappingElement","document","querySelector","createPortal","initial","y","animate","p","wide","sizes","WrapperVariants","edgeSign","x","display","closed","transitionEnd","Drawer","edge","variants","LabelVariants","LabelSizes","InverseHeading","css","onPrimary","BigHeading","bold","HugeHeading","huge","light","Heading","h3","props","variant","INVERSE","size","BIG","HUGE","typography","InverseLabel","ActiveLabel","active","DarkLabel","SmallLabel","small","Label","span","normalText","ACTIVE","DARK","SMALL","TitleWrapper","capitalize","Title","heading","headingProps","label","labelProps","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","transform","fill","fillRule","stroke","cx","cy","r","d","strokeLinecap","strokeLinejoin","_ref","svgRef","title","viewBox","width","height","ref","ForwardRef","forwardRef","strokeWidth","className","points","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","id","rx","Icons","strokeMiterlimit","ButtonVariants","IconComponents","Add","Back","Cross","Emoji","Giphy","Leave","Logo","People","Presence","Search","Send","object","clickable","Icon","icon","IconFile","InputVariants","PrimaryButton","activeText","Button","button","hoverBg","PRIMARY","LayoutActionType","View","DarkInput","content","borders","AttributionInput","attribution","Input","input","dark","Textarea","textarea","none","ListItemWrapper","bg","ListItem","minHeight","px","isTarget","event","current","contains","useClickOutside","onclick","handleClick","useCallback","click","condition","reduce","conditionAlreadyMet","value","useEffect","addEventListener","removeEventListener","Dropdown","render","top","bottom","left","right","useState","showDropdown","setDropdownState","dropdown","useRef","dismissDropdown","onClick","zIndex","Login","dispatch","loggingIn","useSelector","loggedIn","useContext","ThemeContext","usersById","userId","setUserId","user","loginWithRandomlyPickedUser","uuid","randomUserId","KnownIds","Math","floor","random","getState","context","type","pubnub","api","setUUID","isLoginSuccessful","fetchUserData","then","subscribe","channels","withPresence","fetchMemberships","include","channelFields","customChannelFields","customFields","totalCount","conversationChannels","map","membership","Promise","all","payload","py","backgroundImage","image","backgroundSize","backgroundPosition","alignItems","flexGrow","justifyContent","login","borderTopLeftRadius","borderBottomLeftRadius","maxWidth","textAlign","custom","tagLine","alt","src","screenshot","borderRadius","logo","backgroundRepeat","paddingTop","paddingBottom","readOnly","name","toLowerCase","replace","marginTop","views","CurrentConversation","viewDisplayed","view","viewHidden","filter","item","getLayoutSlice","getViews","getViewStates","Menu","includes","ConversationMembers","JoinConversation","DEFAULT_CONVERSATION","DefaultConversation","conversationId","focusOnConversation","currentConversationId","getCurrentConversationId","currentConversation","conversationStateReducer","combineReducers","createChannelDataReducer","allConversations","createChannelsListReducer","getConversationsById","getAllConversations","allChannels","channelIds","useHover","mouseEnterTimer","mouseOutTimer","mouseEnterDelayMS","mouseLeaveDelayMS","isHovering","setIsHovering","onMouseEnter","clearTimeout","setTimeout","onMouseLeave","useMediaQuery","mediaQuery","parsedQuery","match","mediaQueryList","window","matchMedia","matches","setValue","mediaQueryListener","addListener","removeListener","TextMessageSizes","AvatarVariants","BigMessage","message","messageText","isEmphasized","msg","trimmed","trim","emoji","emojiRegex","join","TextMessage","text","Image","img","ImageMessage","Media","Info","Headline","attrs","Description","LinkMessage","url","description","provider","author","linkAttrs","rel","href","ByLine","Source","a","Attribution","GiphyMessage","PaginationActionType","RoundAvatar","round","Avatar","avatars","card","ROUND","getUniqueColor","string","colorSet","modulo","hash","charCodeAt","getNumericHash","getInitials","ConversationItem","selected","onLeave","unreadMessageCount","hoverProps","canLeave","isTouch","touch","primaryActive","primaryHover","selectedText","e","stopPropagation","menuViewHidden","MENU_VIEW_HIDDEN","joinConversationViewHidden","JOIN_CONVERSATION_VIEW_HIDDEN","conversationMembersViewHidden","CONVERSATION_MEMBERS_VIEW_HIDDEN","useVisibility","element","container","threshold","rootMargin","lock","isVisible","setVisiblity","root","observer","IntersectionObserver","entry","isIntersecting","unobserve","observe","usePagination","getNextPage","extraArgs","savePaginationState","restorePaginationState","isEnabled","debounce","loading","setLoading","results","setResults","count","setCount","prev","setPagination","pagesRemain","setPagesRemain","responseId","setResponseId","containerRef","endRef","atEnd","pagination","shouldUpdate","scheduled","newCount","old","getPaginationSlice","getChannelsPaginationState","getChannelMembersPaginationStateById","members","getMembershipsPaginationStateById","memberships","getHistoryPaginationStateById","messages","MessageType","AttachmentType","getJoinedConversations","userConversations","conversation","MyConversations","currentUserId","conversationsById","storedPaginationState","channel","SET_MEMBERSHIPS_PAGINATION","next","total","pageSize","limit","page","action","response","data","mx","marginBottom","JOIN_CONVERSATION_VIEW_DISPLAYED","resolve","removeMemberships","unsubscribe","CURRENT_CONVERSATION_VIEW_DISPLAYED","MyUserDetails","isConnected","networkStatus","marginLeft","isMedium","primary","padding","paddingLeft","companyName","MemberPresenceReducer","createPresenceReducer","getPresenceByConversationId","memberPresence","presence","getMembersCountByConversationId","conversationMembersCount","ConversationMembersCountStateReducer","createChannelMembersCountReducer","getCurrentConversationOccupancy","conversationPresence","joinedCount","presentCount","occupancy","ConversationOccupancy","isConversationMembersLayoutVisible","alignSelf","flexDirection","CONVERSATION_MEMBERS_VIEW_DISPLAYED","getCurrentConversationDescription","Header","marginRight","MENU_VIEW_DISPLAYED","borderBottom","GifSize","GifFormat","AttachmentDisplay","attachment","Link","TextMessageDisplay","parentKey","attachments","index","TypingIndicatorType","TypingIndicatorActionType","load","mp4","format","Video","webp_size","mp4_size","supportsWebp","webp","fetch","blob","URL","createObjectURL","onload","GifDisplay","React","memo","setData","useMemo","mounted","loaded","revokeObjectURL","useBackgroundLoad","ratio","style","autoPlay","loop","muted","playsInline","Gif","gif","username","Full","images","original","fixed_width","GiphyMessageDisplay","query","MessageStateReducer","createMessageReducer","getMessagesById","MessageDisplay","Text","MessageListItem","messageFragment","avatar","sender","ts","date","Date","parseInt","minutes","getMinutes","getHours","convertTimestampToTime","timetoken","getCurrentConversationMessages","values","String","senderId","sort","messageA","messageB","getUnknownUsers","wasFetched","ids","MessageList","setHeight","conversationsScrollPositions","setConversationsScrollPositions","channelId","SET_HISTORY_PAGINATION","tt","fetchMessageHistory","start","stringifiedTimeToken","startTimeToken","memoizedRestoreConversationScrollPositionCallback","conversationScrollPosition","scrollTo","scrollHeight","unknownUsers","forEach","el","newHeight","scrollTop","scrollToBottom","clientHeight","hasReachedBottom","onScroll","scrollPosition","updateCurrentConversationScrollPosition","flex","messageDraftById","getMessageDrafts","drafts","sendMessage","sendPubnubMessage","sendTypingIndicator","typingIndicatorType","sendSignal","EmojiInput","onSelection","dismiss","native","onSelect","darkMode","placeholderMessages","notFound","empty","PlaceholderMessage","overflow","layoutItems","items","columns","getSizeForItem","prevHeights","prevBaseline","columnData","Array","heights","baseline","itemIndex","fullHeight","push","newBaseline","b","Batch","Masonry","MemoBatch","groupedItems","reset","finalColumns","newHeights","sorted","combined","column","byColumn","batch","typed","search","offset","process","REACT_APP_GIPHY_API_KEY","encodeURIComponent","json","total_count","GifPicker","onSelected","setQuery","debouncedQuery","delay","debounced","setDebounced","update","useDebounce","_total","picker","curried","placeholder","onChange","Preview","GifInput","EmojiSuggestion","suggestions","displayed","emojiSearchTerm","colons","emojiIndex","emojis","getEmojiSearchTerm","getEmojisFromEmojiSearchTerm","EmojiResult","txt","replaceEmoji","maxHeight","flexWrap","slice","isDraftModified","autoExpand","cssText","newTextDraft","draft","newText","TextMessageEditor","sendDraft","updateDraft","textareaRef","emojiInserted","messageWithEmoji","focus","rows","onKeyPress","shiftKey","preventDefault","margin","MessageEditor","signalReducer","createSignalReducer","defaultState","removeTypingIndicator","newState","signal","publisher","getTypingIndicatorsById","typingIndicators","typingIndicatorRemovedAll","REMOVE_TYPING_INDICATOR_ALL","createTypingIndicatorsListener","ShowTypingIndicator","REMOVE_TYPING_INDICATOR","typingIndicatorRemoved","TYPING_INDICATOR_DURATION_SECONDS","HideTypingIndicator","PresenceCategory","LEAVE","TIMEOUT","getConversationMessageDraft","MessageInput","storedDraft","defaultDraft","appMessage","discardMessageDraft","newDraft","updateMessageDraft","getCurrentConversationTypingIndicators","typingIndicator","grouped","now","TypingLabel","TypingIndicatorDisplay","loggedInUser","borderRight","getUsersByConversationId","conversationMembers","ConversationMembersStateReducer","createChannelMembersReducer","MemberDescription","you","avatarBg","nameWithYou","panelHover","getCurrentConversationMembers","conversationMemberships","occupants","occupant","usePubNub","conversationColor","SET_CHANNEL_MEMBERS_PAGINATION","fetchChannelMembers","UUIDFields","customUUIDFields","fetchHereNow","userA","userB","orderByPresence","ConversationDescription","contentHover","borderY","getJoinableConversations","conv","JoinConversationDialog","_","SET_CHANNELS_PAGINATION","fetchAllChannelData","setMemberships","joinConversation","ChatUI","publishKey","subscribeKey","isPubNubConfigured","keyConfiguration","ErrorBannerComponent","ApplicationRouter","breakpoints","fontSizesAliases","fontWeightsAliases","black","error","success","inactive","neutral","colorAliases","avatarText","borderLight","borderDark","radiiAliases","messageEditor","borderWidths","borderStyles","bordersAliases","appTheme","NetworkStatusReducer","createNetworkStatusReducer","updatePagination","paginationState","nestedUpdatePagination","rootReducer","CURRENT_CONVERSATION_VIEW_HIDDEN","SignalActionType","SIGNAL_RECEIVED","MessageActionType","MESSAGE_RECEIVED","SET_USERS_PAGINATION","preloadedState","composeEnhancers","compose","pubnubConfig","restore","heartbeatInterval","Pubnub","store","thunkContext","storeEnhancer","applyMiddleware","ReduxThunk","withExtraArgument","createStore","createAppStore","leaveApplication","unsubscribeAll","App","createPubNubListener","client","Boolean","location","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.207875ca.chunk.js","sourcesContent":["import { createGlobalStyle } from \"styled-components\";\nimport { Theme } from \"../Theme\";\n\nconst GlobalStyles = createGlobalStyle<{ theme: Theme }>`\n  body {\n    color: ${({ theme }) => theme.colors.importantText};\n    font-family: ${({ theme }) => theme.fonts.app};\n    font-size: ${({ theme }) => theme.fontSizes.regular};\n    font-weight: ${({ theme }) => theme.fontWeights.regular};\n    margin: ${({ theme }) => theme.space[0]};\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n  }\n\n  * {\n    box-sizing: border-box;\n    margin: 0;\n  }\n\n  body,\n  html,\n  #root {\n    height: 100%;\n  }\n\n  a {\n    color: inherit;\n    text-decoration: none;\n  }\n`;\n\nexport default GlobalStyles;\n","import { createGlobalStyle } from \"styled-components\";\n\nconst Normalize = createGlobalStyle`\n\n//! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css\nhtml{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}\n//# sourceMappingURL=normalize.min.css.map\n      \n`;\n\nexport default Normalize;\n","import Styled, { css } from \"styled-components/macro\";\nimport { typography, TypographyProps } from \"styled-system\";\n\nexport enum HeadingVariants {\n  INVERSE = \"inverse\"\n}\n\nexport enum HeadingSizes {\n  BIG = \"big\",\n  HUGE = \"huge\"\n}\n\nexport interface HeadingProps extends TypographyProps {\n  /** Specify a Heading variant */\n  variant?: HeadingVariants | false;\n  /** Specify a Heading size */\n  size?: HeadingSizes | false;\n}\n\nconst InverseHeading = css`\n  color: ${p => p.theme.colors.onPrimary};\n`;\n\nconst BigHeading = css`\n  font-size: ${p => p.theme.fontSizes.large};\n  font-weight: ${p => p.theme.fontWeights.bold};\n`;\n\nconst HugeHeading = css`\n  font-size: ${p => p.theme.fontSizes.huge};\n  font-weight: ${p => p.theme.fontWeights.light};\n`;\n\nexport const Heading = Styled.h3<HeadingProps>`\n  color: inherit;\n  font-family: inherit;\n  font-size: ${p => p.theme.fontSizes.medium};\n  font-weight: ${p => p.theme.fontWeights.medium};\n\n  ${props => props.variant === HeadingVariants.INVERSE && InverseHeading}\n  ${props => props.size === HeadingSizes.BIG && BigHeading}\n  ${props => props.size === HeadingSizes.HUGE && HugeHeading}\n\n  ${typography}\n`;\n","import styled from \"styled-components/macro\";\n\nexport const Wrapper = styled.div`\n  text-align: left;\n  display: flex;\n  height: 100%;\n  flex-direction: column;\n`;\n","import { useDispatch as OriginalUseDispatch } from \"react-redux\";\nimport { AppDispatch } from \"./storeTypes\";\n\n// Redefine useDispatch to only allow dispatching actions this\n// application's store expects to receive;\n// Fixes a Bug in react-redux 7.1.1 return value that will not\n// allow chaining promises.\n\nconst useDispatch: () => AppDispatch = OriginalUseDispatch;\n\nexport { useDispatch };\n","import { createSelector } from \"reselect\";\nimport invariant from \"invariant\";\nimport { AppState } from \"main/storeTypes\";\nimport { AppActions } from \"main/AppActions\";\n\nexport const LOGGING_IN = \"LOGGIN_IN\";\nexport const LOGIN_SUCCEEDED = \"LOGIN_SUCCEEDED\";\n\nexport interface logingInAction {\n  type: typeof LOGGING_IN;\n}\n\nexport const loggingIn = (): logingInAction => ({\n  type: LOGGING_IN\n});\n\ntype loginSucceededPayloadType = {\n  loggedInUserId?: string;\n};\n\nexport interface loginSucceededAction {\n  type: typeof LOGIN_SUCCEEDED;\n  payload: loginSucceededPayloadType;\n}\n\nexport const loginSucceeded = (\n  loginSucceededPayload: loginSucceededPayloadType\n): loginSucceededAction => ({\n  type: LOGIN_SUCCEEDED,\n  payload: loginSucceededPayload\n});\n\nexport interface AuthenticationState {\n  isLoggingIn: boolean;\n  loggedInUserId?: string;\n}\n\nconst initialState: AuthenticationState = {\n  isLoggingIn: false\n};\n\nconst AuthenticationStateReducer = (\n  state: AuthenticationState = initialState,\n  action: AppActions\n): AuthenticationState => {\n  switch (action.type) {\n    case LOGGING_IN: {\n      return { ...state, isLoggingIn: true };\n    }\n    case LOGIN_SUCCEEDED: {\n      return {\n        ...state,\n        isLoggingIn: false,\n        loggedInUserId: action.payload.loggedInUserId\n      };\n    }\n    default:\n      return state;\n  }\n};\n\nconst getAuthenticationStateSlice = (state: AppState) => state.authentication;\n\nexport const getLoggedInUserId = createSelector(\n  [getAuthenticationStateSlice],\n  (authenticationState: AuthenticationState): string => {\n    invariant(\n      authenticationState.loggedInUserId !== undefined,\n      \"getLoggedInUserId should not be used in components of the application that are rendered while there is no logged in user\"\n    );\n    return authenticationState.loggedInUserId;\n  }\n);\n\nexport const isUserLoggedIn = createSelector(\n  getAuthenticationStateSlice,\n  (authenticationState: AuthenticationState): boolean => {\n    return !!authenticationState.loggedInUserId;\n  }\n);\n\nexport const isLoggingIn = createSelector(\n  getAuthenticationStateSlice,\n  (authenticationState: AuthenticationState): boolean => {\n    return authenticationState.isLoggingIn;\n  }\n);\n\nexport { AuthenticationStateReducer };\n","import { AppState } from \"main/storeTypes\";\nimport { createSelector } from \"reselect\";\nimport { createMembershipReducer } from \"pubnub-redux\";\n\nexport type MembershipHash = { [id: string]: { id: string }[] };\n\nexport interface MemberConversations {\n  [userId: string]: string[];\n}\n\nconst getByUserIdSlice = (state: AppState) => state.joinedConversations;\n\nexport const getConversationsByUserId = createSelector(\n  [getByUserIdSlice],\n  conversations => {\n    return conversations.byId;\n  }\n);\n\nconst JoinedConversationsStateReducer = createMembershipReducer();\nexport { JoinedConversationsStateReducer };\n","import { AppState } from \"main/storeTypes\";\nimport { createSelector } from \"reselect\";\nimport { createUserDataReducer, UserData } from \"pubnub-redux\";\nimport { RequireFields } from \"foundations/utilities/requireFields\";\n\n/**\n * This application uses a custom field called title, which must be defined for\n * every user\n */\ntype CustomUserFields = {\n  title: string;\n};\n\n/**\n * Define which fields of PubNub's User object is accessed by this application.\n * Fields not specified in this definition are not used.\n * We use this oportunity to indicate that some fields which are optional in\n * the PubNub object definition are NOT optional in this application.\n */\nexport type User = RequireFields<\n  UserData<CustomUserFields>,\n  \"id\" | \"name\" | \"profileUrl\" | \"custom\"\n>;\n\n/**\n * Describes a way to lookup a user from a userId\n */\nexport type UsersIndexedById = { [id: string]: User };\n\n/**\n * create a reducer which holds all known user objects in a normalized form\n */\nconst UsersReducer = createUserDataReducer<User>();\nexport { UsersReducer };\n\n/**\n * Slice selector is used internally to access the state of the reducer\n */\nconst getUsersSlice = (state: AppState) => state.users;\n\n/**\n * Returns an index which can be used to find user objects\n */\nexport const getUsersById = createSelector(\n  [getUsersSlice],\n  (users): UsersIndexedById => {\n    return users.byId as UsersIndexedById;\n  }\n);\n","import Styled from \"styled-components/macro\";\nimport {\n  space,\n  SpaceProps,\n  layout,\n  LayoutProps,\n  position,\n  PositionProps,\n  color,\n  ColorProps,\n  background,\n  BackgroundProps,\n  border,\n  BorderProps\n} from \"styled-system\";\n\nexport const StyledBox = Styled.div<\n  SpaceProps &\n    LayoutProps &\n    PositionProps &\n    ColorProps &\n    BackgroundProps &\n    BorderProps\n>`\n  ${space}\n  ${layout}\n  ${position}\n  ${color}\n  ${background}\n  ${border}\n`;\n","import Styled from \"styled-components/macro\";\nimport { layout, LayoutProps } from \"styled-system\";\n\nexport const ScrollView = Styled.div<LayoutProps>`\n  height: 100%;\n  overflow-y: auto;\n\n  ${layout}\n`;\n","import Styled from \"styled-components/macro\";\nimport { flexbox, FlexboxProps, layout, LayoutProps } from \"styled-system\";\nimport { StyledBox } from \"foundations/components/layout\";\n\nexport const FlexRow = Styled(StyledBox)<FlexboxProps & LayoutProps>`\n  display: flex;\n  align-items: center;\n\n  ${flexbox}\n  ${layout}\n`;\n","import Styled from \"styled-components/macro\";\nimport { flexbox, FlexboxProps, layout, LayoutProps } from \"styled-system\";\nimport { StyledBox } from \"foundations/components/layout\";\n\n/** CSS ultilities wrapper that also displays children in flex-column layout */\nexport const FlexColumn = Styled(StyledBox)<FlexboxProps & LayoutProps>`\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n\n  ${flexbox}\n  ${layout}\n`;\n","import React, { FunctionComponent } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport Styled from \"styled-components/macro\";\nimport { motion } from \"framer-motion\";\n\ninterface ModalProps {\n  /** Control the open state of the Modal */\n  open?: boolean;\n}\n\nconst Overlay = Styled.div`\n  background: ${({ theme }) => theme.backgrounds.panel};\n  bottom: 0;\n  height: 100%;\n  left: 0;\n  position: fixed;\n  right: 0;\n  top: 0;\n  width: 100%;\n  z-index: 200;\n\n  ${({ theme }) => theme.mediaQueries.medium} {\n    padding: 10vh 15%;\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n\n  ${({ theme }) => theme.mediaQueries.large} {\n    padding: 10vh 25%;\n  }\n`;\n\nconst Dialog = Styled(motion.section)`\n  background: ${({ theme }) => theme.backgrounds.panel};\n  border-radius: ${({ theme }) => theme.radii.square};\n  display: flex;\n  flex-direction: column;\n  max-height: 100%;\n  padding: ${({ theme }) => theme.space[0]};\n  width: 100%;\n  z-index: 300;\n\n  ${({ theme }) => theme.mediaQueries.medium} {\n    border-radius: ${({ theme }) => theme.radii.strong};\n    box-shadow: ${({ theme }) => theme.shadows[2]};\n    padding: ${({ theme }) => theme.space[8]};\n  }\n`;\n\nexport const Modal: FunctionComponent<ModalProps> = ({\n  open,\n  children,\n  ...rest\n}) => {\n  const WrappingElement = document.querySelector(\"body\");\n\n  return open && WrappingElement\n    ? createPortal(\n        <Overlay>\n          <Dialog initial={{ y: \"-200%\" }} animate={{ y: 0 }} {...rest}>\n            {children}\n          </Dialog>\n        </Overlay>,\n        WrappingElement\n      )\n    : null;\n};\n","import React, { FunctionComponent } from \"react\";\nimport Styled from \"styled-components/macro\";\nimport { motion, Transition } from \"framer-motion\";\nimport { background, BackgroundProps } from \"styled-system\";\n\ninterface DrawerProps extends BackgroundProps {\n  /** Control the open state of the Drawer */\n  open?: boolean;\n  /** Starting screen edge for the slide-in animation */\n  edge?: \"left\" | \"right\";\n  /** Should the Drawer appear in a wide variant */\n  wide?: boolean;\n  /** Modify the default transition parameters. Framer-motion is used internally */\n  transition?: Transition;\n}\n\nconst Wrapper = Styled(motion.section)<DrawerProps>`\n  background: ${({ theme }) => theme.backgrounds.panel};\n  ${background}\n  flex: 0 0 auto;\n  flex-direction: column;\n  height: 100vh;\n  width: 100%;\n  z-index: 100;\n\n  ${({ theme }) => theme.mediaQueries.medium} {\n    position: relative;\n    width: ${p => (p.wide ? p.theme.sizes[5] : p.theme.sizes[4])};\n  }\n`;\n\nconst WrapperVariants = (edgeSign: string) => ({\n  open: {\n    x: \"0%\",\n    display: \"flex\"\n  },\n  closed: {\n    x: edgeSign + \"100%\",\n    transitionEnd: {\n      display: \"none\"\n    }\n  }\n});\n\nexport const Drawer: FunctionComponent<DrawerProps> = ({\n  open = false,\n  edge = \"left\",\n  children,\n  ...rest\n}) => {\n  const edgeSign = edge === \"left\" ? \"-\" : \"+\";\n\n  return (\n    <Wrapper\n      initial=\"closed\"\n      animate={open ? \"open\" : \"closed\"}\n      variants={WrapperVariants(edgeSign)}\n      {...rest}\n    >\n      {children}\n    </Wrapper>\n  );\n};\n","import Styled, { css } from \"styled-components/macro\";\n\nexport enum LabelVariants {\n  INVERSE = \"inverse\",\n  ACTIVE = \"active\",\n  DARK = \"dark\"\n}\n\nexport enum LabelSizes {\n  SMALL = \"small\"\n}\n\nexport interface LabelProps {\n  /** Specify a Label variant */\n  variant?: LabelVariants | false;\n  /** Specify a Label size */\n  size?: LabelSizes | false;\n}\n\nconst InverseLabel = css`\n  color: ${p => p.theme.colors.onPrimary};\n`;\n\nconst ActiveLabel = css`\n  color: ${p => p.theme.colors.active};\n`;\n\nconst DarkLabel = css`\n  color: ${p => p.theme.colors.importantText};\n`;\n\nconst SmallLabel = css`\n  font-size: ${p => p.theme.fontSizes.small};\n`;\n\nconst Label = Styled.span<LabelProps>`\n  color: ${p => p.theme.colors.normalText};\n  font-family: inherit;\n  font-size: inherit;\n  font-weight: inherit;\n\n  ${props => props.variant === LabelVariants.INVERSE && InverseLabel}\n  ${props => props.variant === LabelVariants.ACTIVE && ActiveLabel}\n  ${props => props.variant === LabelVariants.DARK && DarkLabel}\n  ${props => props.size === LabelSizes.SMALL && SmallLabel}\n`;\n\nexport { Label };\n","import React, { FunctionComponent, HTMLAttributes } from \"react\";\nimport Styled from \"styled-components/macro\";\nimport {\n  Heading,\n  HeadingProps,\n  Label,\n  LabelProps\n} from \"foundations/components/presentation\";\n\ninterface TitleWrapperProps extends HTMLAttributes<HTMLElement> {\n  /** Should the Heading and Label be capitalized */\n  capitalize?: boolean;\n}\n\ninterface TitleProps extends TitleWrapperProps {\n  /** Text passed to the Heading */\n  heading?: string;\n  /** Options passed to the Heading */\n  headingProps?: HeadingProps;\n  /** Text passsed to the Label */\n  label?: string;\n  /** Options passed to the Label */\n  labelProps?: LabelProps;\n}\n\nexport const TitleWrapper = Styled.div<TitleWrapperProps>`\n  * {\n    text-transform: ${p => p.capitalize && \"capitalize\"}\n  }\n\n  ${Heading} {\n    margin-bottom: 5px;\n  }\n`;\n\nexport const Title: FunctionComponent<TitleProps> = ({\n  heading,\n  headingProps,\n  label,\n  labelProps,\n  ...rest\n}) => {\n  return (\n    <TitleWrapper {...rest}>\n      {heading && <Heading {...headingProps}>{heading}</Heading>}\n      {label && <Label {...labelProps}>{label}</Label>}\n    </TitleWrapper>\n  );\n};\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Add\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(1 1)\",\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  stroke: \"currentColor\",\n  cx: 9,\n  cy: 9,\n  r: 9\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 9h8M9 5v8\",\n  stroke: \"currentColor\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}));\n\nvar SvgAdd = function SvgAdd(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 20\",\n    width: 20,\n    height: 20,\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgAdd, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/add.c319ae14.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Back\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M3.621 11l7.94-7.94A1.5 1.5 0 009.439.94l-9 9a1.5 1.5 0 000 2.12l9 9a1.5 1.5 0 002.122-2.12L3.62 11z\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\"\n});\n\nvar SvgBack = function SvgBack(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 12 22\",\n    width: \"12px\",\n    height: \"22px\",\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgBack, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/back.2ed5eb5f.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Cross\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  stroke: \"currentColor\",\n  strokeWidth: 2,\n  fill: \"none\",\n  fillRule: \"evenodd\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M1 1l13.2 13.2M14.2 1L1 14.2\"\n}));\n\nvar SvgCross = function SvgCross(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    height: 16,\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCross, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/cross.b6fc28a2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Emoji\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"currentColor\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9 .947C4.56.947.947 4.56.947 9c0 4.441 3.613 8.053 8.053 8.053 4.44 0 8.053-3.612 8.053-8.053C17.053 4.56 13.44.947 9 .947M9 18a8.943 8.943 0 01-6.364-2.636A8.937 8.937 0 010 9.001c0-2.404.936-4.664 2.636-6.364A8.939 8.939 0 019 0a8.94 8.94 0 016.364 2.637A8.94 8.94 0 0118 9a8.94 8.94 0 01-2.636 6.363A8.942 8.942 0 019 18\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.957 6.632h-3.282a1.877 1.877 0 01-.217-1.32l.003-.01c.04-.199.112-.389.215-.565h3.282c.167.287.253.61.253.947 0 .337-.087.66-.253.948zm-6.631 0H4.043a1.877 1.877 0 01-.253-.948c0-.336.087-.661.253-.947h3.283c.102.176.174.366.215.564l.003.012a1.886 1.886 0 01-.217 1.319h-.001zm7.263-2.654a.473.473 0 00-.379-.19h-3.789a.475.475 0 00-.379.19 2.833 2.833 0 00-.406.758h-1.27a2.841 2.841 0 00-.408-.759.473.473 0 00-.38-.19H3.79a.475.475 0 00-.379.19 2.817 2.817 0 00-.568 1.706c0 .622.197 1.211.568 1.706.09.12.23.19.38.19h3.789c.149 0 .289-.07.379-.19a2.816 2.816 0 00.568-1.705h.948c0 .62.197 1.21.568 1.706.09.12.23.19.379.19h3.79c.148 0 .288-.07.378-.19a2.816 2.816 0 00.569-1.705c0-.62-.197-1.21-.569-1.706v-.001zM9 15.158a6.162 6.162 0 01-6.074-5.133.474.474 0 01.935-.157 5.192 5.192 0 005.138 4.342c.916 0 1.817-.241 2.605-.698a.474.474 0 01.475.82A6.158 6.158 0 019 15.156v.002z\"\n}));\n\nvar SvgEmoji = function SvgEmoji(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 18 18\",\n    width: 18,\n    height: 18,\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgEmoji, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/emoji.cf026ffe.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Giphy\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \"\\n          .cls-1{fill:#0f9;}.cls-1,.cls-2,.cls-3,.cls-4,.cls-5,.cls-6{fill-rule:evenodd;}.cls-2{fill:#93f;}.cls-3{fill:#fff35c;}.cls-4{opacity:0.4;}.cls-5{fill:#0cf;}.cls-6{fill:#f66;}\\n      \"));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-1\",\n  points: \"0 7 0 29.19 0 52.05 0 74.91 0 97.76 0 120.62 0 143.48 0 167 20 167 20 143.48 20 120.62 20 97.76 20 74.91 20 52.05 20 29.19 20 7 0 7\"\n});\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-2\",\n  points: \"120 47 120 70.33 120 94.33 120 118.33 120 142.33 120 167 140 167 140 142.33 140 118.33 140 94.33 140 70.33 140 47 120 47\"\n});\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-3\",\n  points: \"67.5 0 45 0 22.5 0 0 0 0 20 22.5 20 45 20 67.5 20 87 20 87 0 67.5 0\"\n});\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-4\",\n  points: \"60 20 90 20 80 0 60 20\"\n});\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-4\",\n  points: \"140 60 120 50 120 80 140 60\"\n});\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-5\",\n  points: \"120 160 100 160 80 160 60 160 40 160 20 160 0 160 0 180 20 180 40 180 60 180 80 180 100 180 120 180 140 180 140 160 120 160\"\n});\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"polygon\", {\n  className: \"cls-6\",\n  points: \"120 40 120 20 100 20 100 0 80 0 80 16.33 80 36.33 80 60 100 60 120 60 140 60 140 40 120 40\"\n});\n\nvar SvgGiphy = function SvgGiphy(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 140 180\",\n    width: 14,\n    height: 18,\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgGiphy, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/giphy.7da9115d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Leave\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"currentColor\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.647 4.854L12.793 7H.5a.499.499 0 100 1h12.293l-2.146 2.145a.5.5 0 00.707.707l3-3a.497.497 0 000-.708l-3-3a.5.5 0 10-.707.71z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19.001 1.5v12c0 .827-.673 1.5-1.5 1.5h-10c-.827 0-1.5-.673-1.5-1.5v-4a.5.5 0 011 0v4a.5.5 0 00.5.5h10a.5.5 0 00.5-.5v-12a.5.5 0 00-.5-.5h-10a.5.5 0 00-.5.5v4a.5.5 0 01-1 0v-4c0-.827.673-1.5 1.5-1.5h10c.827 0 1.5.673 1.5 1.5\"\n}));\n\nvar SvgLeave = function SvgLeave(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 16\",\n    width: 20,\n    height: 16,\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLeave, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/leave.2835e004.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Logo\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Team-Chat\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle\",\n  fill: \"#DE2440\",\n  x: 0,\n  y: 0,\n  width: 60,\n  height: 60,\n  rx: 10\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M17.8154297,40 L17.8154297,31.0058594 L21.8730469,31.0058594 C23.9726562,31.0058594 25.6108398,30.5493164 26.7875977,29.6362305 C27.9643555,28.7231445 28.5527344,27.2265625 28.5527344,25.1464844 C28.5527344,23.2128906 28.003418,21.8041992 26.9047852,20.9204102 C25.8061523,20.0366211 24.0556641,19.5947266 21.6533203,19.5947266 L21.6533203,19.5947266 L14.6074219,19.5947266 L14.6074219,40 L17.8154297,40 Z M21.2431641,28.5742188 L17.8154297,28.5742188 L17.8154297,22.0263672 L21.2431641,22.0263672 C22.6591797,22.0263672 23.6821289,22.2558594 24.3120117,22.7148438 C24.9418945,23.1738281 25.2568359,23.984375 25.2568359,25.1464844 C25.2568359,26.4648438 24.9272461,27.3657227 24.2680664,27.8491211 C23.6088867,28.3325195 22.6005859,28.5742188 21.2431641,28.5742188 L21.2431641,28.5742188 Z M35.0859375,40 L35.0859375,27.2558594 C35.3691406,27.1484375 35.8671875,27.0043945 36.5800781,26.8237305 C37.2929688,26.6430664 38.0791016,26.5527344 38.9384766,26.5527344 C40.2763672,26.5527344 41.2260742,26.8798828 41.7875977,27.5341797 C42.3491211,28.1884766 42.6298828,29.2236328 42.6298828,30.6396484 L42.6298828,30.6396484 L42.6298828,40 L45.75,40 L45.75,29.3212891 C45.75,27.6025391 45.1689453,26.3330078 44.0068359,25.5126953 C42.8447266,24.6923828 41.1845703,24.2822266 39.0263672,24.2822266 C38.2451172,24.2822266 37.4736328,24.3359375 36.7119141,24.4433594 C35.9501953,24.5507812 35.2495117,24.675293 34.6098633,24.8168945 C33.9702148,24.9584961 33.4208984,25.0976562 32.9619141,25.234375 L32.9619141,25.234375 L31.9804688,25.5419922 L31.9804688,40 L35.0859375,40 Z\",\n  id: \"Pn\",\n  fill: \"#FFFFFF\",\n  fillRule: \"nonzero\"\n}));\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 60 60\",\n    width: 61,\n    height: 61,\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.eab776f7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"People Group\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"currentColor\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M7 13.503a.5.5 0 00.5.497h11a.5.5 0 00.5-.497c-.001-.035-.032-.895-.739-1.734C17.287 10.612 15.468 10 13 10s-4.287.612-5.261 1.768c-.707.84-.738 1.699-.739 1.734M18.5 15h-11c-.827 0-1.5-.673-1.5-1.5 0-.048.011-1.19.924-2.315.525-.646 1.241-1.158 2.128-1.522C10.123 9.223 11.452 9 13 9s2.876.223 3.948.662c.887.364 1.603.876 2.128 1.522.914 1.125.924 2.267.924 2.315 0 .827-.673 1.5-1.5 1.5M13 1c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3m0 7c-2.206 0-4-1.794-4-4s1.794-4 4-4 4 1.794 4 4-1.794 4-4 4M4.5 15h-3C.673 15 0 14.327 0 13.5c0-.037.008-.927.663-1.8.378-.505.894-.904 1.533-1.188.764-.34 1.708-.512 2.805-.512.179 0 .356.005.527.014a.5.5 0 01-.053.999 9.1 9.1 0 00-.473-.012c-3.894 0-3.997 2.379-4 2.503a.5.5 0 00.5.497h3a.5.5 0 010 1L4.5 15zM5 4c-1.103 0-2 .897-2 2s.897 2 2 2 2-.897 2-2-.897-2-2-2m0 5C3.346 9 2 7.654 2 6s1.346-3 3-3 3 1.346 3 3-1.346 3-3 3\"\n}));\n\nvar SvgPeople = function SvgPeople(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 20 15\",\n    width: 20,\n    height: 15,\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPeople, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/people.b19c3ca0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Presence Indicator\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 3.5,\n  cy: 3.5,\n  r: 3.5,\n  fill: \"currentColor\",\n  fillRule: \"evenodd\"\n});\n\nvar SvgPresence = function SvgPresence(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 7 7\",\n    width: 7,\n    height: 7,\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgPresence, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/presence.48ac61c7.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Search\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.489 12.072l-.295-.301a7.22 7.22 0 001.673-4.638C13.867 3.193 10.763 0 6.933 0 3.104 0 0 3.193 0 7.133s3.104 7.133 6.933 7.133a6.79 6.79 0 004.507-1.718l.294.3v.87L14 16l1.59-1.636-2.255-2.292h-.846zM7 12A5 5 0 117 2a5 5 0 010 10z\",\n  fill: \"currentColor\",\n  fillRule: \"evenodd\"\n});\n\nvar SvgSearch = function SvgSearch(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 16 16\",\n    width: 16,\n    height: 16,\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSearch, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/search.e4ea21b3.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"title\", null, \"Send\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"none\",\n  stroke: \"currentColor\",\n  strokeMiterlimit: 10,\n  d: \"M.53,13.46V11.31c0-.74.29-1.1,1-1.15,2.17-.17,4.33-.31,6.5-.46l1.16-.11a.68.68,0,0,0,.67-.67.63.63,0,0,0-.55-.73c-1-.1-2-.16-3-.24L1.45,7.59a.84.84,0,0,1-.88-.82,40.83,40.83,0,0,1,0-5.07,1.36,1.36,0,0,1,2.07-1c2.5,1.26,5,2.54,7.48,3.82l6.14,3.14c.52.26,1,.59,1,1.23s-.45,1-1,1.26Q9.53,13.57,2.8,17A1.46,1.46,0,0,1,.53,15.64C.52,14.91.53,14.19.53,13.46Z\"\n});\n\nvar SvgSend = function SvgSend(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 18 18\",\n    width: 18,\n    height: 18,\n    ref: svgRef\n  }, props), title === undefined ? _ref2 : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref3);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSend, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/send.e581c8c0.svg\";\nexport { ForwardRef as ReactComponent };","import React, { SVGProps } from \"react\";\nimport Styled from \"styled-components/macro\";\nimport { color } from \"styled-system\";\nimport { ReactComponent as Add } from \"foundations/svg/add.svg\";\nimport { ReactComponent as Back } from \"foundations/svg/back.svg\";\nimport { ReactComponent as Cross } from \"foundations/svg/cross.svg\";\nimport { ReactComponent as Emoji } from \"foundations/svg/emoji.svg\";\nimport { ReactComponent as Giphy } from \"foundations/svg/giphy.svg\";\nimport { ReactComponent as Leave } from \"foundations/svg/leave.svg\";\nimport { ReactComponent as Logo } from \"foundations/svg/logo.svg\";\nimport { ReactComponent as People } from \"foundations/svg/people.svg\";\nimport { ReactComponent as Presence } from \"foundations/svg/presence.svg\";\nimport { ReactComponent as Search } from \"foundations/svg/search.svg\";\nimport { ReactComponent as Send } from \"foundations/svg/send.svg\";\n\ninterface IconWrapperProps {\n  /** Show pointer cursor on hover */\n  clickable?: boolean;\n}\n\ninterface IconProps extends IconWrapperProps, SVGProps<SVGSVGElement> {\n  /** Icon file to display */\n  icon: Icons;\n  /** Human readable name */\n  title?: string;\n}\n\nexport enum Icons {\n  Add = \"Add\",\n  Back = \"Back\",\n  Cross = \"Cross\",\n  Emoji = \"Emoji\",\n  Giphy = \"Giphy\",\n  Leave = \"Leave\",\n  Logo = \"Logo\",\n  People = \"People\",\n  Presence = \"Presence\",\n  Search = \"Search\",\n  Send = \"Send\"\n}\n\nconst IconComponents: {\n  [key in Icons]: typeof Add;\n} = {\n  Add,\n  Back,\n  Cross,\n  Emoji,\n  Giphy,\n  Leave,\n  Logo,\n  People,\n  Presence,\n  Search,\n  Send\n};\n\nconst Wrapper = Styled.object<IconWrapperProps>`\n  cursor: ${p => p.clickable && \"pointer\"};\n\n  svg {\n    // Block display is needed to remove whitespace underneath inline elements\n    display: block;\n    ${color}\n  }\n`;\n\n// This component could be simplified further with dynamic SVG file imports:\n// https://stackoverflow.com/questions/61339259/how-to-dynamically-import-svg-and-render-it-inline\n// Unfortunately at the time of implementation there's an issue with create-react-app that prevents this solution:\n// https://github.com/facebook/create-react-app/issues/5276\n// ie. \"ReactComponent\" comes in as undefined when used inside of a dynamic import\n\nexport const Icon = ({ icon, clickable, color, ...rest }: IconProps) => {\n  const IconFile = IconComponents[icon];\n\n  return (\n    <Wrapper {...{ color, clickable }}>\n      <IconFile {...rest} />\n    </Wrapper>\n  );\n};\n","import Styled, { css } from \"styled-components/macro\";\nimport { border, BorderProps } from \"styled-system\";\n\nexport enum ButtonVariants {\n  PRIMARY = \"primary\"\n}\n\ninterface ButtonProps extends BorderProps {\n  /** Specify a Button variant */\n  variant?: ButtonVariants | false;\n  /** Background color when component is hovered */\n  hoverBg?: string | false;\n}\n\nconst PrimaryButton = css`\n  background: linear-gradient(155deg, #e12a66 0%, #5c0ce1 100%);\n  border-radius: ${p => p.theme.radii.light};\n  color: ${p => p.theme.colors.activeText};\n  font-size: 14px;\n  padding: ${p => `${p.theme.space[3]} ${p.theme.space[0]}`};\n  text-align: center;\n`;\n\nexport const Button = Styled.button<ButtonProps>`\n  background: none;\n  border: none;\n  color: inherit;\n  cursor: pointer;\n  outline: none;\n  padding: 0;\n  text-align: left;\n  width: 100%;\n\n  &:hover {\n    background: ${p => p.hoverBg};\n  }\n\n  ${props => props.variant === ButtonVariants.PRIMARY && PrimaryButton}\n  ${border}\n`;\n","import Styled, { css } from \"styled-components/macro\";\n\nexport enum InputVariants {\n  DARK = \"dark\"\n}\n\nexport interface InputProps {\n  /** Specify a Input variant */\n  variant?: InputVariants | false;\n  /** Add an attribution background */\n  attribution?: string | false;\n}\n\nconst DarkInput = css`\n  background: ${p => p.theme.backgrounds.content};\n  border: ${p => p.theme.borders.light};\n`;\n\nconst AttributionInput = css<InputProps>`\n  background-image: url(${p => p.attribution});\n  background-position: center right;\n  background-repeat: no-repeat;\n  background-size: auto 18px;\n`;\n\nexport const Input = Styled.input<InputProps>`\n  border: ${({ theme }) => theme.borders.dark};\n  border-radius: ${p => p.theme.radii.light};\n  color: ${p => p.theme.colors.importantText};\n  height: 42px;\n  padding: ${p => p.theme.space[3]};\n  width: 100%;\n\n  &[type=\"password\"] {\n    font-size: ${p => p.theme.fontSizes.huge};\n    letter-spacing: 8px;\n  }\n\n  &:focus {\n    outline: none;\n  }\n\n  ${props => props.variant === InputVariants.DARK && DarkInput}\n  ${props => props.attribution && AttributionInput}\n`;\n","export enum LayoutActionType {\n  MENU_VIEW_DISPLAYED = \"pubnub/MENU_VIEW_DISPLAYED\",\n  MENU_VIEW_HIDDEN = \"pubnub/MENU_VIEW_HIDDEN\",\n  CURRENT_CONVERSATION_VIEW_DISPLAYED = \"pubnub/CURRENT_CONVERSATION_VIEW_DISPLAYED\",\n  CURRENT_CONVERSATION_VIEW_HIDDEN = \"pubnub/CURRENT_CONVERSATION_VIEW_HIDDEN\",\n  CONVERSATION_MEMBERS_VIEW_DISPLAYED = \"pubnub/CONVERSATION_MEMBERS_VIEW_DISPLAYED\",\n  CONVERSATION_MEMBERS_VIEW_HIDDEN = \"pubnub/CONVERSATION_MEMBERS_VIEW_HIDDEN\",\n  JOIN_CONVERSATION_VIEW_DISPLAYED = \"pubnub/JOIN_CONVERSATION_VIEW_DISPLAYED\",\n  JOIN_CONVERSATION_VIEW_HIDDEN = \"pubnub/JOIN_CONVERSATION_VIEW_HIDDEN\"\n}\n","import { LayoutActions } from \"./LayoutActions\";\nimport { LayoutActionType } from \"./LayoutActionType\";\n\nexport enum View {\n  Menu,\n  CurrentConversation,\n  ConversationMembers,\n  JoinConversation\n}\n\ninterface LayoutState {\n  views: View[];\n}\n\nconst initialState: LayoutState = {\n  views: [View.CurrentConversation]\n};\n\nconst viewDisplayed = (state: LayoutState, view: View): LayoutState => {\n  return { ...state, views: [...state.views, view] };\n};\n\nconst viewHidden = (state: LayoutState, view: View): LayoutState => {\n  return { ...state, views: state.views.filter(item => item !== view) };\n};\n\nconst LayoutStateReducer = (\n  state: LayoutState = initialState,\n  action: LayoutActions\n): LayoutState => {\n  switch (action.type) {\n    case LayoutActionType.MENU_VIEW_DISPLAYED:\n      return viewDisplayed(state, View.Menu);\n    case LayoutActionType.MENU_VIEW_HIDDEN:\n      return viewHidden(state, View.Menu);\n    case LayoutActionType.CURRENT_CONVERSATION_VIEW_DISPLAYED:\n      return viewDisplayed(state, View.CurrentConversation);\n    case LayoutActionType.CURRENT_CONVERSATION_VIEW_HIDDEN:\n      return viewHidden(state, View.CurrentConversation);\n    case LayoutActionType.CONVERSATION_MEMBERS_VIEW_DISPLAYED:\n      return viewDisplayed(state, View.ConversationMembers);\n    case LayoutActionType.CONVERSATION_MEMBERS_VIEW_HIDDEN:\n      return viewHidden(state, View.ConversationMembers);\n    case LayoutActionType.JOIN_CONVERSATION_VIEW_DISPLAYED:\n      return viewDisplayed(state, View.JoinConversation);\n    case LayoutActionType.JOIN_CONVERSATION_VIEW_HIDDEN:\n      return viewHidden(state, View.JoinConversation);\n  }\n  return state;\n};\n\nexport { LayoutStateReducer };\n","import Styled from \"styled-components/macro\";\n\nexport const Textarea = Styled.textarea`\n  background: ${p => p.theme.backgrounds.content};\n  border: ${p => p.theme.borders.none};\n  color: ${p => p.theme.colors.importantText};\n  max-height: ${p => p.theme.sizes[4]};\n  overflow: auto;\n  padding: ${p => p.theme.space[0]};\n  resize: none;\n  width: 100%;\n\n  &::placeholder {\n    color: ${p => p.theme.colors.normalText};\n  }\n\n  &:focus {\n    outline: none;\n  }\n`;\n","import React, { FunctionComponent, HTMLAttributes } from \"react\";\nimport Styled from \"styled-components/macro\";\nimport { FlexRow } from \"foundations/components/layout\";\nimport { TitleWrapper } from \"foundations/components/presentation\";\n\ninterface ListItemProps extends HTMLAttributes<HTMLElement> {\n  /** Show pointer cursor on hover */\n  clickable?: boolean;\n  // Using ${color} from styled-system conflicts with React types\n  /** Specify a background color of the item */\n  bg?: string | false;\n}\n\nconst ListItemWrapper = Styled.div<ListItemProps>`\n  background-color: ${p => p.bg};\n  cursor: ${p => p.clickable && \"pointer\"};\n\n  ${TitleWrapper} {\n    flex-grow: 1;\n    margin-left: ${p => p.theme.space[6]};\n  }\n`;\n\nexport const ListItem: FunctionComponent<ListItemProps> = ({\n  children,\n  ...rest\n}) => {\n  return (\n    <ListItemWrapper {...rest}>\n      <FlexRow minHeight={2} px={6}>\n        {children}\n      </FlexRow>\n    </ListItemWrapper>\n  );\n};\n","import { useEffect, useCallback, RefObject } from \"react\";\n\nconst isRefArray = (\n  r: RefObject<any> | RefObject<any>[]\n): r is RefObject<any>[] => {\n  return \"length\" in r;\n};\n\nconst isTarget = (ref: RefObject<any>, event: MouseEvent) => {\n  return ref && ref.current && ref.current.contains(event.target);\n};\n\nconst trueForAny = (array: any[], condition: (props: any) => boolean) => {\n  return array.reduce((conditionAlreadyMet, value) => {\n    return conditionAlreadyMet || condition(value);\n  }, false);\n};\n\nconst useClickOutside = (\n  ref: RefObject<any> | RefObject<any>[],\n  onclick: () => void\n) => {\n  const handleClick = useCallback(\n    (click: MouseEvent) => {\n      if (isRefArray(ref)) {\n        if (trueForAny(ref, (ref: RefObject<any>) => isTarget(ref, click))) {\n          return;\n        }\n      } else {\n        if (isTarget(ref, click)) {\n          return;\n        }\n      }\n      onclick();\n    },\n    [onclick, ref]\n  );\n\n  useEffect(() => {\n    document.addEventListener(\"click\", handleClick);\n\n    return () => {\n      document.removeEventListener(\"click\", handleClick);\n    };\n  }, [handleClick]);\n\n  return ref;\n};\n\nexport default useClickOutside;\n","import React, {\n  ReactNode,\n  FunctionComponent,\n  useState,\n  useCallback,\n  useRef\n} from \"react\";\nimport useClickOutside from \"foundations/hooks/useClickOutside\";\nimport { Icon, Icons } from \"foundations/components/presentation\";\nimport { StyledBox } from \"foundations/components/layout\";\n\ninterface DropdownProps {\n  /** Icon name to display as open button */\n  icon: Icons;\n  /** Title for the Icon */\n  title: string;\n  /** Top position of the Dropdown */\n  top?: string | number;\n  /** Bottom position of the Dropdown */\n  bottom?: string | number;\n  /** Left position of the Dropdown */\n  left?: string | number;\n  /** Right position of the Dropdown */\n  right?: string | number;\n  /** Function prop for Dropdown content */\n  render: (dismiss: () => void) => ReactNode;\n}\n\nexport const Dropdown: FunctionComponent<DropdownProps> = ({\n  icon,\n  render,\n  top,\n  bottom,\n  left,\n  right,\n  title\n}) => {\n  const [showDropdown, setDropdownState] = useState(false);\n  const dropdown = useRef<HTMLDivElement>(null);\n\n  const dismissDropdown = useCallback(() => {\n    setDropdownState(false);\n  }, [setDropdownState]);\n\n  useClickOutside([dropdown], dismissDropdown);\n\n  const toggleDropdown = () => {\n    setDropdownState(!showDropdown);\n  };\n\n  return (\n    <div ref={dropdown}>\n      <Icon onClick={toggleDropdown} icon={icon} title={title} clickable />\n      <StyledBox\n        position=\"absolute\"\n        zIndex={200}\n        {...{ top, bottom, left, right }}\n      >\n        {showDropdown && render(dismissDropdown)}\n      </StyledBox>\n    </div>\n  );\n};\n","import React, { useState, useContext } from \"react\";\nimport { useDispatch } from \"main/useDispatch\";\nimport image from \"./background.png\";\nimport logo from \"./logo.svg\";\nimport { login } from \"../loginCommand\";\nimport { isLoggingIn } from \"../authenticationModel\";\nimport { isUserLoggedIn } from \"features/authentication/authenticationModel\";\nimport { useSelector } from \"react-redux\";\nimport KnownIds from \"config/knownUserIds.json\";\nimport screenshot from \"./screenshot.png\";\nimport { getUsersById } from \"features/users/userModel\";\nimport { ThemeContext } from \"styled-components\";\nimport { FlexRow, FlexColumn, StyledBox } from \"foundations/components/layout\";\nimport {\n  Label,\n  LabelVariants,\n  Heading,\n  HeadingSizes,\n  HeadingVariants,\n  Button,\n  ButtonVariants,\n  Input,\n  InputVariants\n} from \"foundations/components/presentation\";\n\nconst Login = () => {\n  const dispatch = useDispatch();\n  const loggingIn = useSelector(isLoggingIn);\n  const loggedIn = useSelector(isUserLoggedIn);\n  const theme = useContext(ThemeContext);\n  // show the username in the email field\n  const usersById = useSelector(getUsersById);\n  const [userId, setUserId] = useState(\"\");\n  const user = usersById[userId];\n\n  const loginWithRandomlyPickedUser = () => {\n    if (loggingIn || loggedIn || userId !== \"\") {\n      return;\n    }\n    const randomUserId = KnownIds[Math.floor(Math.random() * KnownIds.length)];\n    setUserId(randomUserId);\n    dispatch(login(randomUserId));\n  };\n\n  if (!loggedIn && !loggingIn) {\n    loginWithRandomlyPickedUser();\n  }\n\n  const renderForm = () => (\n    <FlexColumn>\n      <StyledBox\n        height=\"30px\"\n        backgroundImage={`url(${logo})`}\n        backgroundRepeat=\"no-repeat\"\n        backgroundPosition=\"center\"\n      />\n      <StyledBox paddingTop=\"6\" paddingBottom=\"1\">\n        <Label variant={LabelVariants.DARK}>Username</Label>\n      </StyledBox>\n      <Input\n        readOnly\n        value={user ? user.name.toLowerCase().replace(\" \", \".\") : \"\"}\n        variant={InputVariants.DARK}\n      />\n      <StyledBox paddingTop=\"6\" paddingBottom=\"1\">\n        <Label variant={LabelVariants.DARK}>Password</Label>\n      </StyledBox>\n      <Input\n        readOnly\n        type=\"password\"\n        value={\"password123\"}\n        variant={InputVariants.DARK}\n      />\n\n      <StyledBox marginTop=\"8\">\n        <Button\n          variant={ButtonVariants.PRIMARY}\n          onClick={loginWithRandomlyPickedUser}\n        >\n          {loggingIn ? \"Connecting\" : \"Log In\"}\n        </Button>\n      </StyledBox>\n    </FlexColumn>\n  );\n\n  return (\n    <FlexColumn\n      py={[0, \"10vh\"]}\n      px={[0, \"15%\"]}\n      height=\"100%\"\n      backgroundImage={`url(${image})`}\n      backgroundSize=\"cover\"\n      backgroundPosition=\"center\"\n    >\n      <FlexRow alignItems=\"stretch\" flexGrow={1}>\n        <FlexColumn\n          justifyContent=\"flex-end\"\n          display={[\"none\", \"none\", \"flex\"]}\n          background={theme.backgrounds.login}\n          borderTopLeftRadius=\"strong\"\n          borderBottomLeftRadius=\"strong\"\n          maxWidth=\"360px\"\n        >\n          <StyledBox px=\"8\" py=\"2\">\n            <Heading\n              size={HeadingSizes.HUGE}\n              variant={HeadingVariants.INVERSE}\n              textAlign=\"center\"\n            >\n              {theme.custom.tagLine}\n            </Heading>\n          </StyledBox>\n          <FlexRow justifyContent=\"center\">\n            <img alt=\"pubnub chat screenshot\" src={screenshot} />\n          </FlexRow>\n        </FlexColumn>\n\n        <FlexRow\n          bg=\"backgrounds.content\"\n          flexGrow={1}\n          justifyContent=\"center\"\n          borderRadius={[\"square\", \"strong\", \"strong\"]}\n          borderTopLeftRadius={[\"square\", \"strong\", \"square\"]}\n          borderBottomLeftRadius={[\"square\", \"strong\", \"square\"]}\n        >\n          {renderForm()}\n        </FlexRow>\n      </FlexRow>\n    </FlexColumn>\n  );\n};\n\nexport { Login };\n","import { ThunkAction } from \"main/storeTypes\";\nimport { loggingIn, loginSucceeded } from \"./authenticationModel\";\nimport { fetchUserData, fetchMemberships } from \"pubnub-redux\";\nimport { getConversationsByUserId } from \"features/joinedConversations/joinedConversationModel\";\n\nexport const login = (uuid: string): ThunkAction<Promise<void>> => {\n  return (dispatch, getState, context) => {\n    dispatch(loggingIn());\n\n    // Show the login screen for a minimum amount of time as a splash screen\n    //const timer = new Promise(resolve => setTimeout(resolve, 2000));\n\n    // Set the UUID of the current user to ensure that presence works correctly\n    context.pubnub.api.setUUID(uuid);\n\n    // ensure that the current user exists while also populating the store\n    // with their information.\n    const isLoginSuccessful = dispatch(fetchUserData({ uuid }))\n      .then(() => {\n        // Subscribe to the user's channel to receive events involving this user\n        context.pubnub.api.subscribe({\n          channels: [uuid],\n          withPresence: true\n        });\n      })\n      .then(() => {\n        return dispatch(\n          // Load the conversations that this user has joined\n          fetchMemberships({\n            uuid: uuid,\n            include: {\n              channelFields: true,\n              customChannelFields: false,\n              customFields: false,\n              totalCount: false\n            }\n          })\n        );\n      })\n      .then(() => {\n        // Subscribe to messages on the user's joined conversations\n        const conversationChannels = getConversationsByUserId(getState())[\n          uuid\n        ].map(membership => membership.id);\n\n        context.pubnub.api.subscribe({\n          channels: conversationChannels,\n          withPresence: true\n        });\n      });\n\n    return Promise.all([isLoginSuccessful]).then(() => {\n      dispatch(loginSucceeded({ loggedInUserId: uuid }));\n    });\n  };\n};\n","import { createSelector } from \"reselect\";\nimport { AppState } from \"main/storeTypes\";\nimport { View } from \"./LayoutReducer\";\n\nconst getLayoutSlice = (state: AppState) => state.layout;\n\nexport const getView = createSelector(\n  [getLayoutSlice],\n  (app: ReturnType<typeof getLayoutSlice>) => {\n    return app.views[0];\n  }\n);\n\nexport const getViews = createSelector(\n  [getLayoutSlice],\n  (app: ReturnType<typeof getLayoutSlice>) => {\n    return app.views;\n  }\n);\n\nexport const getViewStates = createSelector(\n  [getViews],\n  (views: ReturnType<typeof getViews>) => {\n    return {\n      Menu: views.includes(View.Menu),\n      ConversationMembers: views.includes(View.ConversationMembers),\n      JoinConversation: views.includes(View.JoinConversation),\n      CurrentConversation: views.includes(View.CurrentConversation)\n    };\n  }\n);\n","import { AppState } from \"main/storeTypes\";\nimport { AppActions } from \"main/AppActions\";\nimport { createSelector } from \"reselect\";\nimport DefaultConversation from \"config/defaultConversation.json\";\n\nexport const FOCUS_ON_CONVERSATION = \"FOCUS_ON_CONVERSATION\";\n\nexport const DEFAULT_CONVERSATION = DefaultConversation.conversationId;\n\nexport interface focusOnConversationAction {\n  type: typeof FOCUS_ON_CONVERSATION;\n  payload: string;\n}\n\nexport const focusOnConversation = (\n  target: string\n): focusOnConversationAction => {\n  return {\n    type: FOCUS_ON_CONVERSATION,\n    payload: target\n  };\n};\n\nexport interface CurrentConversationState {\n  currentConversationId: string;\n}\n\nconst initialState: CurrentConversationState = {\n  currentConversationId: DEFAULT_CONVERSATION\n};\n\nconst currentConversationStateReducer = (\n  state: CurrentConversationState = initialState,\n  action: AppActions\n): CurrentConversationState => {\n  switch (action.type) {\n    case FOCUS_ON_CONVERSATION:\n      return { ...state, currentConversationId: action.payload };\n    default:\n      return state;\n  }\n};\n\nexport { currentConversationStateReducer };\n\nconst getCurrentConversationSlice = (state: AppState) =>\n  state.currentConversation;\n\nexport const getCurrentConversationId = createSelector(\n  [getCurrentConversationSlice],\n  (currentConversation: CurrentConversationState): string => {\n    return currentConversation.currentConversationId;\n  }\n);\n","import { AppState } from \"main/storeTypes\";\nimport { createSelector } from \"reselect\";\nimport { combineReducers } from \"redux\";\nimport {\n  createChannelDataReducer,\n  createChannelsListReducer,\n  Channel\n} from \"pubnub-redux\";\nimport { RequireFields } from \"foundations/utilities/requireFields\";\n\n/**\n * Define which fields of PubNub's User object is accessed by this application.\n * Fields not specified in this definition are not used.\n * We use this oportunity to indicate that some fields which are optional in\n * the PubNub object definition are NOT optional in this application.\n */\nexport type Conversation = RequireFields<\n  Channel<{}>,\n  \"id\" | \"name\" | \"description\"\n>;\n\n/**\n * Describes a way to lookup a conversation from a conversationId\n */\nexport type ConversationsIndexedById = { [id: string]: Conversation };\n\n/**\n * create a reducer which holds all known conversation objects in a normalized form\n */\nconst conversationStateReducer = combineReducers({\n  conversations: createChannelDataReducer<Conversation>(),\n  allConversations: createChannelsListReducer<{}>()\n});\nexport { conversationStateReducer };\n\n/**\n * Slice selectors are used internally to access the state of the reducer\n */\nconst getConversationsSlice = (state: AppState) => state.conversations;\nconst getChannelsSlice = (state: AppState) => state.conversations.conversations;\nconst getAllChannelsSlice = (state: AppState) =>\n  state.conversations.allConversations;\n\n/**\n * Returns an index which can be used to find conversation objects\n */\nexport const getConversationsById = createSelector(\n  [getConversationsSlice],\n  (conversations): ConversationsIndexedById => {\n    return conversations.conversations.byId;\n  }\n);\n\n/**\n * Returns an array of all channels\n */\nexport const getAllConversations = createSelector(\n  [getChannelsSlice, getAllChannelsSlice],\n  (channels, allChannels) => {\n    return allChannels.channelIds.map(id => channels.byId[id]);\n  }\n);\n","import { useState } from \"react\";\n\n// https://github.com/andrewbranch/react-use-hover\n\nexport interface UseHoverOptions {\n  mouseEnterDelayMS?: number;\n  mouseLeaveDelayMS?: number;\n}\n\nexport type HoverProps = Pick<\n  React.HTMLAttributes<HTMLElement>,\n  \"onMouseEnter\" | \"onMouseLeave\"\n>;\n\nexport default function useHover({\n  mouseEnterDelayMS = 200,\n  mouseLeaveDelayMS = 0\n}: UseHoverOptions = {}): [boolean, HoverProps] {\n  const [isHovering, setIsHovering] = useState(false);\n  let mouseEnterTimer: number | undefined;\n  let mouseOutTimer: number | undefined;\n  return [\n    isHovering,\n    {\n      onMouseEnter: () => {\n        clearTimeout(mouseOutTimer);\n        mouseEnterTimer = setTimeout(\n          () => setIsHovering(true),\n          mouseEnterDelayMS\n        );\n      },\n      onMouseLeave: () => {\n        clearTimeout(mouseEnterTimer);\n        mouseOutTimer = setTimeout(\n          () => setIsHovering(false),\n          mouseLeaveDelayMS\n        );\n      }\n    }\n  ];\n}\n","import { useEffect, useState } from \"react\";\n\nexport function useMediaQuery(mediaQuery: string) {\n  // the theme provides media queries with the \"@media screen and\" prefix, which is not supported by window.matchMedia\n  const parsedQuery =\n    (mediaQuery.match(/(\\([\\w\\s-:]+\\))/) || [])[1] || mediaQuery;\n  const mediaQueryList = window.matchMedia(parsedQuery);\n  const [value, setValue] = useState(mediaQueryList.matches);\n\n  useEffect(() => {\n    const mediaQueryListener = () => setValue(mediaQueryList.matches);\n\n    mediaQueryList.addListener(mediaQueryListener);\n\n    return () => mediaQueryList.removeListener(mediaQueryListener);\n  }, [mediaQueryList]);\n\n  return value;\n}\n","import React, { FunctionComponent } from \"react\";\nimport Styled, { css } from \"styled-components/macro\";\nimport emojiRegex from \"emoji-regex\";\n\nexport enum TextMessageSizes {\n  BIG = \"BIG\"\n}\n\ninterface TextWrapperProps {\n  /** Specify a Message size */\n  size?: TextMessageSizes | false;\n}\n\ninterface TextMessageProps extends TextWrapperProps {\n  /** Display a text copy */\n  text: string;\n}\n\nconst BigMessage = css`\n  font-size: ${p => p.theme.fontSizes.large};\n`;\n\nconst Wrapper = Styled.div<TextWrapperProps>`\n  background: ${p => p.theme.backgrounds.message};\n  border-radius: ${p => p.theme.radii.strong};\n  border-top-left-radius: ${p => p.theme.radii.square};\n  box-shadow: ${p => p.theme.shadows[0]};\n  color: ${p => p.theme.colors.messageText};\n  line-height: 1.5;\n  padding: ${p => p.theme.space[4]};\n  text-align: left;\n  white-space: pre-wrap;\n  width: fit-content;\n  word-break: break-word;\n\n  ${props => props.size === TextMessageSizes.BIG && BigMessage}\n`;\n\n// Check if there are only 3 or less emoji in the message\nconst isEmphasized = (msg: string): boolean => {\n  const trimmed = msg.trim();\n  if (trimmed.length <= 15) {\n    const emoji = msg.match(emojiRegex());\n    return emoji ? emoji.length <= 3 && emoji.join(\"\") === trimmed : false;\n  } else {\n    return false;\n  }\n};\n\nexport const TextMessage: FunctionComponent<TextMessageProps> = ({\n  text,\n  size,\n  ...rest\n}) => {\n  return (\n    <Wrapper\n      size={size || (isEmphasized(text) ? TextMessageSizes.BIG : undefined)}\n      {...rest}\n    >\n      {text}\n    </Wrapper>\n  );\n};\n","import Styled, { css } from \"styled-components/macro\";\nimport { color, ColorProps } from \"styled-system\";\n\nexport enum AvatarVariants {\n  ROUND = \"round\"\n}\n\ninterface AvatarProps extends ColorProps {\n  /** Specify an Avatar variant */\n  variant?: AvatarVariants | false;\n}\n\nconst RoundAvatar = css`\n  border-radius: ${p => p.theme.radii.round};\n`;\n\nexport const Avatar = Styled.div<AvatarProps>`\n  align-items: center;\n  background: ${p => p.theme.colors.avatars[0]};\n  border-radius: ${p => p.theme.radii.medium};\n  color: ${p => p.theme.colors.onPrimary};\n  display: flex;\n  flex-shrink: 0;\n  font-size: ${p => p.theme.fontSizes.card};\n  height: 36px;\n  justify-content: center;\n  line-height: ${p => p.theme.fontSizes.card};\n  text-transform: uppercase;\n  width: 36px;\n\n  ${color}\n  ${props => props.variant === AvatarVariants.ROUND && RoundAvatar}\n`;\n","import React, { FunctionComponent } from \"react\";\nimport Styled from \"styled-components/macro\";\n\ninterface ImageMessageProps {\n  /** Specify URL of the image to display */\n  image: string;\n}\n\nconst Image = Styled.img`\n  border-radius: ${p => p.theme.radii.strong};\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  object-position: center center;\n`;\n\nexport const ImageMessage: FunctionComponent<ImageMessageProps> = ({\n  image,\n  ...rest\n}) => {\n  return <Image alt={`media from ${image}`} src={image} {...rest} />;\n};\n","import React, { FunctionComponent } from \"react\";\nimport Styled from \"styled-components/macro\";\nimport {\n  Heading,\n  Label,\n  LabelVariants\n} from \"foundations/components/presentation\";\n\ninterface WithNameAndUrl {\n  name: string;\n  url: string;\n}\n\ninterface LinkMessageProps {\n  /** Name and URL of the link provider */\n  provider: WithNameAndUrl;\n  /** URL to point to from the title */\n  url: string;\n  /** Text for the Title line */\n  title?: string;\n  /** Text for the Description block */\n  description?: string;\n  /** URL of the thumbnail to show */\n  image?: string;\n  /** URL of the favicon to show */\n  icon?: string;\n  /** Name and URL of the link author */\n  author?: WithNameAndUrl;\n}\n\nconst Wrapper = Styled.div`\n  display: flex;\n  flex-direction: column-reverse;\n  background: ${p => p.theme.backgrounds.message};\n  border-radius: ${p => p.theme.radii.strong};\n  border-top-left-radius: ${p => p.theme.radii.square};\n  box-shadow: ${p => p.theme.shadows[0]};\n  padding: ${p => `${p.theme.space[5]} ${p.theme.space[6]}`};\n  width: fit-content;\n\n  ${p => p.theme.mediaQueries.large} {\n    flex-direction: row;\n    padding: 0px;\n  }\n`;\n\nconst Media = Styled.div`\n  height: 120px;\n  margin-top: ${p => p.theme.space[1]};\n  width: 210px;\n\n  ${p => p.theme.mediaQueries.large} {\n    margin-top: 0px;\n  }\n`;\n\nconst Info = Styled.div`\n  display: flex;\n  flex-direction: column;\n  max-width: 600px;\n  padding: 0px;\n\n  ${p => p.theme.mediaQueries.large} {\n    padding: ${p => `${p.theme.space[5]} ${p.theme.space[6]}`};\n  }\n`;\n\nconst Image = Styled.img`\n  height: 100%;\n  object-fit: cover;\n  object-position: center center;\n  width: 100%;\n\n  ${p => p.theme.mediaQueries.large} {\n    border-bottom-left-radius: ${p => p.theme.radii.strong};\n  }\n`;\n\nconst Headline = Styled.div`\n  align-items: baseline;\n  display: flex;\n  margin-bottom: 2px;\n\n  & > * {\n    margin-right: ${p => p.theme.space[1]};\n  }\n`;\n\nconst Icon = Styled.img`\n  align-self: center;\n  max-height: ${p => p.theme.space[4]};\n  max-width: ${p => p.theme.space[5]};\n`;\n\nconst Title = Styled(Label).attrs(p => ({\n  variant: LabelVariants.ACTIVE\n}))`\n  font-weight: ${p => p.theme.fontWeights.medium};\n`;\n\nconst Description = Styled(Label)`\n  margin-top: 2px;\n  line-height: 1.5;\n`;\n\nexport const LinkMessage: FunctionComponent<LinkMessageProps> = ({\n  url,\n  title,\n  image,\n  icon,\n  description,\n  provider,\n  author,\n  ...rest\n}) => {\n  const linkAttrs = { target: \"_blank\", rel: \"noopener noreferrer\" };\n  return (\n    <Wrapper>\n      {image && (\n        <Media>\n          <Image alt={`${url} preview`} src={image} />\n        </Media>\n      )}\n      <Info>\n        <Headline>\n          {icon && <Icon alt=\"favicon\" src={icon} />}\n          <a href={provider.url} {...linkAttrs}>\n            <Heading>{provider.name}</Heading>\n          </a>\n          {author && (\n            <a href={author.url} {...linkAttrs}>\n              <Label variant={LabelVariants.DARK}>{author.name}</Label>\n            </a>\n          )}\n        </Headline>\n        <Title>\n          <a href={url} {...linkAttrs}>\n            {title}\n          </a>\n        </Title>\n        <Description>{description}</Description>\n      </Info>\n    </Wrapper>\n  );\n};\n","import React, { FunctionComponent } from \"react\";\nimport Styled from \"styled-components/macro\";\nimport attribution from \"./attribution.png\";\n\ntype GiphyMessageItemProps = {\n  /** URL to link to from the Title */\n  url: string;\n  /** Title of the displayed Gif */\n  title: string;\n  /** Author of the Gif upload */\n  author?: string;\n};\n\nconst Wrapper = Styled.div`\n  background: ${p => p.theme.backgrounds.message};\n  border-radius: ${p => p.theme.radii.strong};\n  box-shadow: ${p => p.theme.shadows[1]};\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n`;\n\nconst ByLine = Styled.div`\n  align-items: center;\n  display: flex;\n  font-size: ${p => p.theme.fontSizes.medium};\n  font-weight: ${p => p.theme.fontWeights.light};\n  height: ${p => p.theme.sizes[1]};\n  justify-content: space-between;\n  padding: 0px ${p => p.theme.space[4]};\n`;\n\nconst Source = Styled.a`\n  color: ${p => p.theme.colors.active};\n  font-weight: ${p => p.theme.fontWeights.medium};\n  text-decoration: none;\n`;\n\nconst Attribution = Styled.img`\n  height: ${p => p.theme.space[4]};\n`;\n\nexport const GiphyMessage: FunctionComponent<GiphyMessageItemProps> = ({\n  url,\n  author,\n  title,\n  children\n}) => {\n  return (\n    <Wrapper>\n      {children}\n      <ByLine>\n        <div>\n          <Source href={url} target=\"_blank\" rel=\"noopener noreferrer\">\n            {title}\n          </Source>\n          {author && ` by @${author}`}\n        </div>\n        <Attribution alt=\"powered by GIPHY\" src={attribution} />\n      </ByLine>\n    </Wrapper>\n  );\n};\n","export enum PaginationActionType {\n  SET_USERS_PAGINATION = \"pagination/SET_USERS_PAGINATION\",\n  SET_CHANNELS_PAGINATION = \"pagination/SET_CHANNELS_PAGINATION\",\n  SET_CHANNEL_MEMBERS_PAGINATION = \"pagination/SET_CHANNEL_MEMBERS_PAGINATION\",\n  SET_MEMBERSHIPS_PAGINATION = \"pagination/SET_MEMBERSHIPS_PAGINATION\",\n  SET_HISTORY_PAGINATION = \"pagination/SET_HISTORY_PAGINATION\"\n}\n","export const getUniqueColor = (string: string, colorSet: string[]) => {\n  const getNumericHash = (string: string) => {\n    let hash = 0;\n    if (string.length === 0) return hash;\n    for (let i = 0; i < string.length; i++) {\n      let char = string.charCodeAt(i);\n      hash = (hash << 5) - hash + char;\n      hash = hash & hash; // Convert to 32bit integer\n    }\n    return hash;\n  };\n  const modulo = colorSet.length;\n  const colorIndex = ((getNumericHash(string) % modulo) + modulo) % modulo;\n  return colorSet[colorIndex];\n};\n\nexport const getInitials = (name: string) => {\n  return name.match(/\\b\\w/g) || [];\n};\n","import React, { useContext } from \"react\";\nimport useHover from \"foundations/hooks/useHover\";\nimport { DEFAULT_CONVERSATION } from \"features/currentConversation/currentConversationModel\";\nimport { ThemeContext } from \"styled-components\";\nimport { useMediaQuery } from \"foundations/hooks/useMediaQuery\";\nimport {\n  LabelVariants,\n  Icon,\n  Icons,\n  Title\n} from \"foundations/components/presentation\";\nimport { Avatar } from \"foundations/components/chat\";\nimport { ListItem } from \"foundations/components/layout\";\nimport { getUniqueColor } from \"foundations/utilities\";\n\ninterface ConversationItemProps {\n  selected: boolean;\n  id: string;\n  name: string;\n  unreadMessageCount: number;\n  onClick: () => void;\n  onLeave: () => void;\n}\n\n/**\n * Show a single joined conversation\n *\n * Similiar to ConversationDescription but with different style and more functionality\n */\nconst ConversationItem = ({\n  selected,\n  id,\n  name,\n  onClick,\n  onLeave,\n  unreadMessageCount\n}: ConversationItemProps) => {\n  const [isHovering, hoverProps] = useHover({ mouseEnterDelayMS: 0 });\n  const canLeave: boolean = id !== DEFAULT_CONVERSATION;\n  const theme = useContext(ThemeContext);\n  const isTouch = useMediaQuery(theme.mediaQueries.touch);\n  const color = getUniqueColor(\n    name,\n    (theme.colors.avatars as unknown) as string[]\n  );\n\n  return (\n    <ListItem\n      onClick={onClick}\n      bg={\n        selected\n          ? theme.backgrounds.primaryActive\n          : isHovering\n          ? theme.backgrounds.primaryHover\n          : \"transparent\"\n      }\n      {...hoverProps}\n      clickable\n    >\n      <Avatar bg={color} color={theme.colors.selectedText}>\n        #\n      </Avatar>\n      <Title\n        label={name}\n        labelProps={{ variant: LabelVariants.INVERSE }}\n      ></Title>\n\n      {(isHovering || isTouch) && canLeave && (\n        <Icon\n          icon={Icons.Leave}\n          color=\"onPrimary\"\n          title=\"Leave Conversation\"\n          onClick={e => {\n            e.stopPropagation();\n            onLeave();\n          }}\n        />\n      )}\n    </ListItem>\n  );\n};\n\nexport { ConversationItem };\n","import { LayoutActionType } from \"./LayoutActionType\";\n\nexport interface menuViewHiddenAction {\n  type: typeof LayoutActionType.MENU_VIEW_HIDDEN;\n}\n\nexport interface currentConversationViewHiddenAction {\n  type: typeof LayoutActionType.CURRENT_CONVERSATION_VIEW_HIDDEN;\n}\n\nexport interface conversationMembersViewHiddenAction {\n  type: typeof LayoutActionType.CONVERSATION_MEMBERS_VIEW_HIDDEN;\n}\n\nexport interface joinConversationViewHiddenAction {\n  type: typeof LayoutActionType.JOIN_CONVERSATION_VIEW_HIDDEN;\n}\n\nexport interface menuViewDisplayedAction {\n  type: typeof LayoutActionType.MENU_VIEW_DISPLAYED;\n}\n\nexport interface currentConversationViewDisplayedAction {\n  type: typeof LayoutActionType.CURRENT_CONVERSATION_VIEW_DISPLAYED;\n}\n\nexport interface conversationMembersViewDisplayedAction {\n  type: typeof LayoutActionType.CONVERSATION_MEMBERS_VIEW_DISPLAYED;\n}\n\nexport interface joinConversationViewDisplayedAction {\n  type: typeof LayoutActionType.JOIN_CONVERSATION_VIEW_DISPLAYED;\n}\n\nexport type LayoutActions =\n  | menuViewHiddenAction\n  | currentConversationViewHiddenAction\n  | conversationMembersViewHiddenAction\n  | joinConversationViewHiddenAction\n  | menuViewDisplayedAction\n  | currentConversationViewDisplayedAction\n  | conversationMembersViewDisplayedAction\n  | joinConversationViewDisplayedAction;\n\nexport const menuViewDisplayed = (): menuViewDisplayedAction => {\n  return {\n    type: LayoutActionType.MENU_VIEW_DISPLAYED\n  };\n};\n\nexport const joinConversationViewDisplayed = (): joinConversationViewDisplayedAction => {\n  return {\n    type: LayoutActionType.JOIN_CONVERSATION_VIEW_DISPLAYED\n  };\n};\n\nexport const currentConversationViewDisplayed = (): currentConversationViewDisplayedAction => {\n  return {\n    type: LayoutActionType.CURRENT_CONVERSATION_VIEW_DISPLAYED\n  };\n};\n\nexport const conversationMembersViewDisplayed = (): conversationMembersViewDisplayedAction => {\n  return {\n    type: LayoutActionType.CONVERSATION_MEMBERS_VIEW_DISPLAYED\n  };\n};\n\nexport const menuViewHidden = (): menuViewHiddenAction => {\n  return {\n    type: LayoutActionType.MENU_VIEW_HIDDEN\n  };\n};\n\nexport const joinConversationViewHidden = (): joinConversationViewHiddenAction => {\n  return {\n    type: LayoutActionType.JOIN_CONVERSATION_VIEW_HIDDEN\n  };\n};\n\nexport const currentConversationViewHidden = (): currentConversationViewHiddenAction => {\n  return {\n    type: LayoutActionType.CURRENT_CONVERSATION_VIEW_HIDDEN\n  };\n};\n\nexport const conversationMembersViewHidden = (): conversationMembersViewHiddenAction => {\n  return {\n    type: LayoutActionType.CONVERSATION_MEMBERS_VIEW_HIDDEN\n  };\n};\n","import { useState, useEffect } from \"react\";\n\nexport const useVisibility = (\n  element: React.RefObject<HTMLElement>,\n  container: React.RefObject<HTMLElement> | null,\n  threshold: number,\n  rootMargin: string,\n  lock = false\n) => {\n  // exposes a piece of state\n  const [isVisible, setVisiblity] = useState(false);\n\n  // runs once\n  useEffect(() => {\n    const target = element.current;\n    // null uses the viewport\n    const root = container && container.current;\n    // ensure the refs are pointing to elements\n    if (target !== null) {\n      const observer = new IntersectionObserver(\n        ([entry]) => {\n          // after it is shown once, state is locked to prevent scroll jumps\n          if (lock) {\n            if (entry.isIntersecting) {\n              setVisiblity(true);\n              observer.unobserve(target);\n            }\n          } else {\n            setVisiblity(entry.isIntersecting);\n          }\n        },\n        { root, threshold, rootMargin }\n      );\n      observer.observe(target);\n      // cleanup\n      return () => {\n        observer.unobserve(target);\n      };\n    }\n  }, [container, element, threshold, rootMargin, lock]);\n  return isVisible;\n};\n","import { useState, useRef, useEffect } from \"react\";\nimport { useVisibility } from \"foundations/hooks/useVisibility\";\n\nexport type GetNextPage<Result, PaginationInfo, ExtraArgs> = (\n  prev: PaginationInfo | null,\n  currentCount: number | null,\n  extraArgs: ExtraArgs\n) => Promise<{\n  results: Result[];\n  pagination: PaginationInfo;\n  pagesRemain: boolean;\n}>;\n\nexport type SavePaginationState<PaginationInfo, ExtraArgs> = (\n  extraArgs: ExtraArgs,\n  pagination: PaginationInfo,\n  count: number | null,\n  pagesRemain: boolean\n) => void;\nexport type RestorePaginationState<PaginationInfo> = () =>\n  | { pagination: PaginationInfo; count: number | null; pagesRemain: boolean }\n  | undefined;\n\nconst usePagination = <Result, PaginationInfo, ExtraArgs>(\n  getNextPage: GetNextPage<Result, PaginationInfo, ExtraArgs>,\n  extraArgs: ExtraArgs,\n  savePaginationState?: SavePaginationState<PaginationInfo, ExtraArgs>,\n  restorePaginationState?: RestorePaginationState<PaginationInfo>,\n  isEnabled = true,\n  debounce = 500\n) => {\n  const [loading, setLoading] = useState(false);\n  const [results, setResults] = useState<Result[][] | null>(null);\n  const [count, setCount] = useState<number | null>(null);\n  const [prev, setPagination] = useState<PaginationInfo | null>(null);\n  const [pagesRemain, setPagesRemain] = useState<boolean>(true);\n  const [responseId, setResponseId] = useState<ExtraArgs>(extraArgs);\n  // refs and intersection observers for infinite scroll\n  const containerRef = useRef<HTMLDivElement>(null);\n  const endRef = useRef<HTMLDivElement>(null);\n  // TODO: this needs to be a parameter\n  const atEnd = useVisibility(endRef, containerRef, 0, \"0px 0px 500px 0px\");\n\n  // if the extra args change, reset\n  useEffect(() => {\n    const { count, pagination, pagesRemain } =\n      (restorePaginationState && restorePaginationState()) || {};\n    setPagination(pagination || null);\n    setPagesRemain(pagesRemain === undefined ? true : pagesRemain);\n    setCount(count || null);\n  }, [extraArgs, restorePaginationState]);\n\n  useEffect(() => {\n    setLoading(false);\n  }, [extraArgs]);\n\n  const shouldUpdate =\n    !loading && (atEnd || prev === null) && pagesRemain && isEnabled;\n\n  // infinite scroll\n  useEffect(() => {\n    let scheduled: null | number = null;\n\n    if (shouldUpdate) {\n      // fetch next page\n      (async () => {\n        if (scheduled !== null) {\n          clearTimeout(scheduled);\n        }\n        setLoading(true);\n        const { results: current, pagination, pagesRemain } = await getNextPage(\n          prev,\n          count,\n          extraArgs\n        );\n\n        // update state\n        const newCount =\n          current.length > 0\n            ? prev && count\n              ? count + current.length\n              : current.length\n            : count;\n        if (current.length > 0) {\n          setResults(old => {\n            if (prev && old) {\n              return [...old, current];\n            } else {\n              return [current];\n            }\n          });\n          setResponseId(extraArgs);\n        }\n        if (!savePaginationState) {\n          setCount(newCount);\n          setPagination(pagination);\n          setPagesRemain(pagesRemain);\n        } else {\n          savePaginationState(extraArgs, pagination, newCount, pagesRemain);\n        }\n\n        // enforce a delay between fetching pages\n        scheduled = setTimeout(() => {\n          setLoading(false);\n        }, debounce);\n      })();\n    }\n\n    return () => {\n      if (scheduled !== null) {\n        clearTimeout(scheduled);\n      }\n    };\n  }, [\n    getNextPage,\n    pagesRemain,\n    prev,\n    count,\n    debounce,\n    shouldUpdate,\n    extraArgs,\n    savePaginationState\n  ]);\n\n  return { loading, results, containerRef, endRef, responseId };\n};\n\nexport { usePagination };\n","import { createSelector } from \"reselect\";\nimport { AppState } from \"main/storeTypes\";\n\nconst getPaginationSlice = (state: AppState) => state.pagination;\ntype SliceState = ReturnType<typeof getPaginationSlice>;\n\nexport const getUsersPaginationState = createSelector(\n  [getPaginationSlice],\n  (pagination: SliceState) => pagination.users\n);\n\nexport const getChannelsPaginationState = createSelector(\n  [getPaginationSlice],\n  (pagination: SliceState) => pagination.channels\n);\n\nexport const getChannelMembersPaginationStateById = createSelector(\n  [getPaginationSlice],\n  (pagination: SliceState) => pagination.members\n);\n\nexport const getMembershipsPaginationStateById = createSelector(\n  [getPaginationSlice],\n  (pagination: SliceState) => pagination.memberships\n);\n\nexport const getHistoryPaginationStateById = createSelector(\n  [getPaginationSlice],\n  (pagination: SliceState) => pagination.messages\n);\n","import { PaginationActionType } from \"./PaginationActionType\";\nimport { PaginationState } from \"./PaginationReducer\";\n\nexport interface SetUsersPaginationAction {\n  type: PaginationActionType.SET_USERS_PAGINATION;\n  payload: PaginationState;\n}\n\nexport interface SetChannelsPaginationAction {\n  type: PaginationActionType.SET_CHANNELS_PAGINATION;\n  payload: PaginationState;\n}\n\nexport interface SetChannelMembersPaginationAction {\n  type: PaginationActionType.SET_CHANNEL_MEMBERS_PAGINATION;\n  payload: {\n    channelId: string;\n    state: PaginationState;\n  };\n}\n\nexport interface SetMembershipsPaginationAction {\n  type: PaginationActionType.SET_MEMBERSHIPS_PAGINATION;\n  payload: {\n    uuid: string;\n    state: PaginationState;\n  };\n}\n\nexport interface SetHistoryPaginationAction {\n  type: PaginationActionType.SET_HISTORY_PAGINATION;\n  payload: {\n    channelId: string;\n    state: PaginationState;\n  };\n}\n\nexport type PaginationActions =\n  | SetUsersPaginationAction\n  | SetChannelsPaginationAction\n  | SetChannelMembersPaginationAction\n  | SetMembershipsPaginationAction\n  | SetHistoryPaginationAction;\n\nexport const setUsersPagination = (\n  state: PaginationState\n): SetUsersPaginationAction => {\n  return {\n    type: PaginationActionType.SET_USERS_PAGINATION,\n    payload: state\n  };\n};\n\nexport const setChannelsPagination = (\n  state: PaginationState\n): SetChannelsPaginationAction => {\n  return {\n    type: PaginationActionType.SET_CHANNELS_PAGINATION,\n    payload: state\n  };\n};\n\nexport const setChannelMembersPagination = (\n  channelId: string,\n  state: PaginationState\n): SetChannelMembersPaginationAction => {\n  return {\n    type: PaginationActionType.SET_CHANNEL_MEMBERS_PAGINATION,\n    payload: {\n      channelId,\n      state\n    }\n  };\n};\n\nexport const setMembershipsPagination = (\n  uuid: string,\n  state: PaginationState\n): SetMembershipsPaginationAction => {\n  return {\n    type: PaginationActionType.SET_MEMBERSHIPS_PAGINATION,\n    payload: {\n      uuid,\n      state\n    }\n  };\n};\n\nexport const setHistoryPagination = (\n  channelId: string,\n  state: PaginationState\n): SetHistoryPaginationAction => {\n  return {\n    type: PaginationActionType.SET_HISTORY_PAGINATION,\n    payload: {\n      channelId,\n      state\n    }\n  };\n};\n","import { IGif } from \"@giphy/js-types\";\n/**\n * Define the types of messages that this application is designed to work with.\n *\n * This application only defines \"text\" messages, but you can add more here.\n */\nexport enum MessageType {\n  Text = \"text\",\n  Giphy = \"giphy\",\n}\n\n/**\n * BaseMessage defines a structure that ALL messages that the application works should conform to.\n */\nexport interface BaseMessage {\n  /**\n   * An indicator of the type of this message, which must appear in the MessageType enum.\n   */\n  type: MessageType;\n\n  /**\n   * The user id of the user that sent this message\n   */\n  senderId: string;\n}\n\nexport interface Image {\n  source: string;\n}\n\nexport interface Video {\n  source: string;\n}\n\nexport enum AttachmentType {\n  Image = \"image\",\n  Video = \"video\",\n  Link = \"link\",\n}\n\nexport interface BaseAttachment {\n  type: AttachmentType;\n}\n\nexport interface ImageAttachment extends BaseAttachment {\n  type: AttachmentType.Image;\n  image: Image;\n}\n\nexport interface VideoAttachment extends BaseAttachment {\n  type: AttachmentType.Video;\n  video: Video;\n  preview?: Image;\n}\n\nexport type MediaAttachment = ImageAttachment | VideoAttachment;\n\nexport interface Provider {\n  name: string;\n  url: string;\n}\n\nexport interface LinkAttachment {\n  type: AttachmentType.Link;\n  url: string;\n  provider: Provider;\n  title?: string;\n  description?: string;\n  author?: Provider;\n  icon?: Image;\n  image?: Image;\n  video?: Video;\n}\n\nexport type Attachment = MediaAttachment | LinkAttachment;\n\n/**\n * Defines a text message with a UTF-8 encoding\n */\nexport interface TextMessage extends BaseMessage {\n  /**\n   * type must be \"text\"\n   */\n  type: MessageType.Text;\n\n  /**\n   * The message content with a UTF-8 unicode encoding\n   */\n  text: string;\n\n  /**\n   * Message attachments (images and links)\n   */\n  attachments?: Attachment[];\n}\n\nexport interface GiphyMessage extends BaseMessage {\n  type: MessageType.Giphy;\n  query: string;\n  gif: IGif;\n}\n\n/**\n * This is a union of all of the message types that the application works with.\n *\n * To add a new message type, add a new type identifier to the MessageType enum.\n *\n *    MyCustomMessageType = \"my-custom-message-type\",\n *\n * Then declare a new message type that extends BaseMessage that uses the enum\n *\n *     export interface MyCustomMessage extends BaseMessage {\n *       type: MessageType.MyCustomMessageType;\n *       myField: string;\n *     }\n *\n * Then add that type to this AppMessage union type\n *    export type AppMessage = TextMessage | MyCustomMessage;\n *\n * You will also need to modify the application to work with your new message type.\n * Using your IDE to find references to AppMessage will help find those areas you\n * need to modify.\n */\nexport type AppMessage = TextMessage | GiphyMessage;\n\n/**\n * Customize the PubNub message envelope declaration to include our custom message types\n * and define which fields from the envelope this application will have access to.\n *\n * Fields that are not included in this list may appear in the data but will be ignored by\n * the application.  To remove the fields entirely (for example to use less memory),\n *  use a filter on the incoming messages from subscribe.\n */\n","import React, { useCallback } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createSelector } from \"reselect\";\nimport { getCurrentConversationId } from \"features/currentConversation/currentConversationModel\";\nimport { getConversationsByUserId } from \"../joinedConversationModel\";\nimport { MembershipHash } from \"../joinedConversationModel\";\nimport {\n  ConversationsIndexedById,\n  getConversationsById\n} from \"features/conversations/conversationModel\";\nimport { focusOnConversation } from \"features/currentConversation/currentConversationModel\";\nimport { getLoggedInUserId } from \"features/authentication/authenticationModel\";\nimport { ConversationItem } from \"../ConversationItem\";\nimport {\n  Heading,\n  HeadingVariants,\n  Icon,\n  Icons\n} from \"foundations/components/presentation\";\nimport { ScrollView, FlexRow } from \"foundations/components/layout\";\nimport { leaveConversation } from \"../leaveConversationCommand\";\nimport {\n  currentConversationViewDisplayed,\n  joinConversationViewDisplayed,\n  menuViewHidden\n} from \"features/layout/LayoutActions\";\nimport {\n  usePagination,\n  GetNextPage,\n  SavePaginationState\n} from \"foundations/hooks/usePagination\";\nimport { fetchMemberships } from \"pubnub-redux\";\nimport { MembershipsRetrievedAction } from \"pubnub-redux/dist/features/membership/MembershipActions\";\nimport { ChannelMembershipObject } from \"pubnub\";\nimport { getMembershipsPaginationStateById } from \"features/pagination/Selectors\";\nimport { setMembershipsPagination } from \"features/pagination/PaginationActions\";\n\nexport interface ConversationFragment {\n  id: string;\n  name: string;\n}\n\nexport const getJoinedConversations = createSelector(\n  [getConversationsById, getLoggedInUserId, getConversationsByUserId],\n  (\n    conversations: ConversationsIndexedById,\n    userId: string,\n    userConversations: MembershipHash\n  ): ConversationFragment[] => {\n    return userConversations[userId]\n      ? userConversations[userId].map(conversation => {\n          return {\n            id: conversation.id,\n            name: conversations[conversation.id].name\n          };\n        })\n      : [];\n  }\n);\n\nconst MyConversations = () => {\n  const currentUserId = useSelector(getLoggedInUserId);\n  const conversationsById = useSelector(getConversationsById);\n  const conversations: ConversationFragment[] = useSelector(\n    getJoinedConversations\n  );\n  const currentConversationId: string = useSelector(getCurrentConversationId);\n  const dispatch = useDispatch();\n  const openOverlay = () => {\n    dispatch(joinConversationViewDisplayed());\n  };\n\n  const storedPaginationState = useSelector(getMembershipsPaginationStateById)[\n    currentUserId\n  ];\n\n  const restorePaginationState = useCallback(() => {\n    return storedPaginationState;\n  }, [storedPaginationState]);\n\n  const savePaginationState: SavePaginationState<\n    string | undefined,\n    string\n  > = useCallback(\n    (channel, pagination, count, pagesRemain) => {\n      dispatch(\n        setMembershipsPagination(channel, { pagination, count, pagesRemain })\n      );\n    },\n    [dispatch]\n  );\n\n  const getNextPage: GetNextPage<\n    ChannelMembershipObject<{}, {}>,\n    string | undefined,\n    string\n  > = useCallback(\n    async (next, total, uuid) => {\n      const pageSize = 20;\n      const action = ((await dispatch(\n        fetchMemberships({\n          uuid,\n          limit: pageSize,\n          include: {\n            channelFields: true,\n            customChannelFields: false,\n            customFields: false,\n            totalCount: true\n          },\n          page: {\n            next: next || undefined\n          }\n        })\n      )) as unknown) as MembershipsRetrievedAction<{}, {}, unknown>;\n      const response = action.payload.response;\n      return {\n        results: response.data,\n        pagination: response.next,\n        pagesRemain:\n          response.data.length > 0 && response.totalCount && total\n            ? total + response.data.length < response.totalCount\n            : response.data.length === pageSize\n      };\n    },\n    [dispatch]\n  );\n\n  const { containerRef, endRef } = usePagination(\n    getNextPage,\n    currentUserId,\n    savePaginationState,\n    restorePaginationState\n  );\n\n  if (conversationsById === undefined) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <>\n      <FlexRow justifyContent=\"space-between\" mx={6} marginBottom={1}>\n        <Heading variant={HeadingVariants.INVERSE}>Conversations</Heading>\n        <Icon\n          icon={Icons.Add}\n          color={\"onPrimary\"}\n          onClick={openOverlay}\n          title=\"Join conversation\"\n          clickable\n        />\n      </FlexRow>\n\n      <ScrollView ref={containerRef}>\n        {conversations.map(conversation => (\n          <ConversationItem\n            id={conversation.id}\n            name={conversation.name}\n            onLeave={() => {\n              dispatch(leaveConversation(currentUserId, conversation.id));\n            }}\n            selected={conversation.id === currentConversationId}\n            key={conversation.id}\n            unreadMessageCount={0}\n            onClick={() => {\n              dispatch(focusOnConversation(conversation.id));\n              dispatch(currentConversationViewDisplayed());\n              dispatch(menuViewHidden());\n            }}\n          ></ConversationItem>\n        ))}\n        <div ref={endRef} />\n      </ScrollView>\n    </>\n  );\n};\n\nexport { MyConversations };\n","import { ThunkAction } from \"main/storeTypes\";\nimport { removeMemberships } from \"pubnub-redux\";\nimport {\n  focusOnConversation,\n  DEFAULT_CONVERSATION\n} from \"features/currentConversation/currentConversationModel\";\n\n/**\n * Leave the current conversation and select the default conversation\n * as the current conversation.  (The application expects that some\n * conversation will always be current.)\n */\nexport const leaveConversation = (\n  userId: string,\n  conversationId: string\n): ThunkAction<Promise<void>> => {\n  return (dispatch, getState, context) => {\n    if (conversationId === DEFAULT_CONVERSATION) {\n      return Promise.resolve();\n    }\n    return dispatch(\n      removeMemberships({\n        uuid: userId,\n        channels: [conversationId]\n      })\n    ).then(() => {\n      context.pubnub.api.unsubscribe({\n        channels: [conversationId]\n      });\n      dispatch(focusOnConversation(DEFAULT_CONVERSATION));\n    });\n  };\n};\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { getLoggedInUserId } from \"features/authentication/authenticationModel\";\nimport { getUsersById } from \"features/users/userModel\";\nimport { AppState } from \"main/storeTypes\";\nimport {\n  Label,\n  LabelVariants,\n  Icon,\n  Icons\n} from \"foundations/components/presentation\";\nimport { StyledBox, FlexRow } from \"foundations/components/layout\";\n\nexport interface MyUserDetailsFragment {\n  name: string;\n  profileUrl: string;\n  custom: {\n    title: string;\n  };\n}\n\nconst MyUserDetails = () => {\n  const userId = useSelector(getLoggedInUserId);\n  const usersById = useSelector(getUsersById);\n  const user = usersById[userId];\n  const isConnected: boolean = useSelector(\n    (state: AppState) => state.networkStatus.isConnected\n  );\n\n  // We must always have a user; change this to a development time error check\n  if (user === undefined) {\n    return <div>Loading...</div>;\n  }\n\n  return (\n    <FlexRow>\n      <Label variant={LabelVariants.INVERSE}>{user.name}</Label>\n\n      <StyledBox marginLeft={1}>\n        <Icon\n          icon={Icons.Presence}\n          title={isConnected ? \"connected\" : \"not connected\"}\n          color={isConnected ? \"success\" : \"inactive\"}\n        />\n      </StyledBox>\n    </FlexRow>\n  );\n};\n\nexport { MyUserDetails };\n","import React, { useContext } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getViewStates } from \"features/layout/Selectors\";\nimport { MyConversations } from \"features/joinedConversations/MyConversations/MyConversations\";\nimport { ThemeContext } from \"styled-components\";\nimport { useMediaQuery } from \"foundations/hooks/useMediaQuery\";\nimport { MyUserDetails } from \"features/currentUser/MyUserDetails\";\nimport { menuViewHidden } from \"features/layout/LayoutActions\";\nimport {\n  Icon,\n  Icons,\n  Heading,\n  HeadingVariants\n} from \"foundations/components/presentation\";\nimport {\n  Drawer,\n  StyledBox,\n  FlexRow,\n  FlexColumn\n} from \"foundations/components/layout\";\n\nconst Menu = () => {\n  const views = useSelector(getViewStates);\n  const theme = useContext(ThemeContext);\n  const isMedium = useMediaQuery(theme.mediaQueries.medium);\n  const dispatch = useDispatch();\n\n  return (\n    <Drawer\n      open={views.Menu || isMedium}\n      background={theme.backgrounds.primary}\n    >\n      <StyledBox\n        position=\"absolute\"\n        right=\"0\"\n        padding=\"6\"\n        display={[\"block\", \"none\"]}\n      >\n        <Icon\n          onClick={() => dispatch(menuViewHidden())}\n          icon={Icons.Cross}\n          title=\"Close conversations\"\n          color={theme.colors.onPrimary}\n          clickable\n        />\n      </StyledBox>\n\n      <StyledBox padding={6}>\n        <FlexRow>\n          <Icon icon={Icons.Logo} title=\"PubNub\" />\n          <StyledBox paddingLeft={4}>\n            <FlexColumn minHeight={1}>\n              <Heading variant={HeadingVariants.INVERSE}>\n                {theme.custom.companyName}\n              </Heading>\n              <MyUserDetails />\n            </FlexColumn>\n          </StyledBox>\n        </FlexRow>\n      </StyledBox>\n\n      <MyConversations />\n    </Drawer>\n  );\n};\n\nexport { Menu };\n","import { AppState } from \"main/storeTypes\";\nimport { createSelector } from \"reselect\";\nimport { createPresenceReducer, Presence } from \"pubnub-redux\";\n\nexport interface ConversationPresence {\n  [conversationId: string]: {\n    name: string;\n    occupants: Presence[];\n    occupancy: number;\n  };\n}\n\n/**\n * Create a reducer to precense information for conversation members\n */\nconst MemberPresenceReducer = createPresenceReducer();\nexport { MemberPresenceReducer };\n\nconst getByPresenceSlice = (state: AppState) => state.memberPresence;\n\nexport const getPresenceByConversationId = createSelector(\n  [getByPresenceSlice],\n  (presence: { byId: ConversationPresence }) => {\n    return presence.byId;\n  }\n);\n","import { AppState } from \"main/storeTypes\";\nimport { createSelector } from \"reselect\";\nimport { createChannelMembersCountReducer } from \"pubnub-redux\";\n\nexport interface ConversationMembersCount {\n  [conversationId: string]: number;\n}\n\nconst getMembersCountByConversationIdSlice = (state: AppState) =>\n  state.conversationMembersCount;\n\nexport const getMembersCountByConversationId = createSelector(\n  [getMembersCountByConversationIdSlice],\n  (users: { byId: ConversationMembersCount }) => {\n    return users.byId;\n  }\n);\n\nconst ConversationMembersCountStateReducer = createChannelMembersCountReducer();\n\nexport { ConversationMembersCountStateReducer };\n","import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createSelector } from \"reselect\";\nimport { getCurrentConversationId } from \"../currentConversationModel\";\nimport {\n  getPresenceByConversationId,\n  ConversationPresence\n} from \"features/memberPresence/memberPresenceModel\";\nimport { getViewStates } from \"features/layout/Selectors\";\nimport {\n  Label,\n  LabelVariants,\n  Icon,\n  Icons,\n  Button\n} from \"foundations/components/presentation\";\nimport { FlexRow, StyledBox } from \"foundations/components/layout\";\nimport {\n  conversationMembersViewDisplayed,\n  conversationMembersViewHidden\n} from \"features/layout/LayoutActions\";\nimport {\n  getMembersCountByConversationId,\n  ConversationMembersCount\n} from \"features/conversationMembers/conversationMemberCountModel\";\n\nexport interface ConversationOccupancyFragment {\n  joinedCount: number;\n  presentCount: number;\n}\n\nexport const getCurrentConversationOccupancy = createSelector(\n  [\n    getCurrentConversationId,\n    getPresenceByConversationId,\n    getMembersCountByConversationId\n  ],\n  (\n    currentConversationId: string,\n    conversationPresence: ConversationPresence,\n    conversationMembersCount: ConversationMembersCount\n  ): ConversationOccupancyFragment => {\n    const count = conversationMembersCount[currentConversationId];\n    const presence = conversationPresence[currentConversationId];\n    return {\n      joinedCount: count || 0,\n      presentCount: presence ? presence.occupancy : 0\n    };\n  }\n);\n\nconst ConversationOccupancy = () => {\n  const {\n    joinedCount,\n    presentCount\n  }: ConversationOccupancyFragment = useSelector(\n    getCurrentConversationOccupancy\n  );\n  const views = useSelector(getViewStates);\n  const isConversationMembersLayoutVisible = views.ConversationMembers;\n  const dispatch = useDispatch();\n\n  return (\n    <FlexRow\n      alignSelf=\"flex-start\"\n      flexDirection={[\"column-reverse\", \"row\"]}\n      onClick={() => {\n        isConversationMembersLayoutVisible\n          ? dispatch(conversationMembersViewHidden())\n          : dispatch(conversationMembersViewDisplayed());\n      }}\n    >\n      <StyledBox px={[0, 3]}>\n        <Button>\n          <Label\n            variant={isConversationMembersLayoutVisible && LabelVariants.ACTIVE}\n          >\n            <b>{presentCount}</b> | {joinedCount}\n          </Label>\n        </Button>\n      </StyledBox>\n\n      <Icon\n        icon={Icons.People}\n        title={\n          isConversationMembersLayoutVisible\n            ? \"Hide members list\"\n            : \"Show convsersation members\"\n        }\n        color={isConversationMembersLayoutVisible ? \"active\" : \"normalText\"}\n        clickable\n      />\n    </FlexRow>\n  );\n};\n\nexport { ConversationOccupancy };\n","import React from \"react\";\nimport { ConversationOccupancy } from \"../ConversationOccupancy\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createSelector } from \"reselect\";\nimport {\n  ConversationsIndexedById,\n  getConversationsById\n} from \"features/conversations/conversationModel\";\nimport { getCurrentConversationId } from \"../currentConversationModel\";\nimport { menuViewDisplayed } from \"features/layout/LayoutActions\";\nimport { Icon, Icons, Title } from \"foundations/components/presentation\";\nimport { FlexRow, StyledBox } from \"foundations/components/layout\";\n\nexport interface ConversationDescriptionFragment {\n  id: string;\n  name: string;\n  description: string;\n}\n\nexport const getCurrentConversationDescription = createSelector(\n  [getConversationsById, getCurrentConversationId],\n  (\n    conversations: ConversationsIndexedById,\n    currentConversationId: string\n  ): ConversationDescriptionFragment => {\n    return {\n      ...conversations[currentConversationId]\n    };\n  }\n);\n\nconst Header = () => {\n  const conversation: ConversationDescriptionFragment = useSelector(\n    getCurrentConversationDescription\n  );\n\n  const dispatch = useDispatch();\n\n  return (\n    <StyledBox px=\"6\" paddingTop=\"7\" bg={[\"backgrounds.panel\", \"transparent\"]}>\n      <FlexRow justifyContent=\"space-between\">\n        <StyledBox display={[\"block\", \"none\"]} color=\"active\" marginRight=\"7\">\n          <Icon\n            icon={Icons.Back}\n            onClick={() => {\n              dispatch(menuViewDisplayed());\n            }}\n            title=\"Back\"\n            clickable\n          />\n        </StyledBox>\n\n        <Title\n          heading={conversation.name}\n          label={conversation.description}\n        ></Title>\n\n        <ConversationOccupancy />\n      </FlexRow>\n\n      <StyledBox paddingTop=\"5\" borderBottom=\"light\"></StyledBox>\n    </StyledBox>\n  );\n};\n\nexport { Header };\n","import React from \"react\";\nimport invariant from \"invariant\";\nimport { LinkMessage, ImageMessage } from \"foundations/components/chat\";\nimport { AttachmentType, Attachment } from \"sharedTypes/messageModel\";\n\ntype AttachmentProps = {\n  attachment: Attachment;\n};\n\n/**\n * Display an attachment based on its type\n */\nexport const AttachmentDisplay = ({ attachment }: AttachmentProps) => {\n  switch (attachment.type) {\n    case AttachmentType.Link:\n      const props = {\n        provider: attachment.provider,\n        url: attachment.url,\n        title: attachment.title,\n        description: attachment.description,\n        image: attachment.image?.source,\n        icon: attachment.icon?.source,\n        author: attachment.author\n      };\n      return <LinkMessage {...props}></LinkMessage>;\n    case AttachmentType.Image:\n      return <ImageMessage image={attachment.image.source}></ImageMessage>;\n\n    // <== Add additional attachment types here.\n\n    // Don't show anything for an unrecognized attachment type\n    default:\n      invariant(\n        false,\n        `No component available for displaying attachment of type \"${attachment.type}\"`\n      );\n  }\n};\n","import React, { useState, useEffect, useRef, useMemo, useContext } from \"react\";\nimport { IGif, ImageAllTypes } from \"@giphy/js-types\";\nimport { useVisibility } from \"foundations/hooks/useVisibility\";\nimport { StyledBox } from \"foundations/components/layout\";\nimport { ThemeContext } from \"styled-components\";\n\nenum GifSize {\n  Preview,\n  Full\n}\n\nenum GifFormat {\n  Image,\n  Video\n}\n\ninterface LoadedGif {\n  src: string;\n  format: GifFormat;\n}\n\n// preload the image/video and choose the optimal format\nconst load = async (source: ImageAllTypes): Promise<LoadedGif> => {\n  let image = {\n    src: source.mp4,\n    format: GifFormat.Video\n  };\n  if (source.webp_size < source.mp4_size && (await supportsWebp())) {\n    image = {\n      src: source.webp,\n      format: GifFormat.Image\n    };\n  }\n  // fetch in the background\n  const response = await fetch(image.src);\n  // blob enures the entire file has loaded\n  const blob = await response.blob();\n  // return a url for the blob, which will load immediately\n  return {\n    ...image,\n    src: URL.createObjectURL(blob)\n  };\n};\n\n// null while loading, updated when complete\nconst useBackgroundLoad = (source: ImageAllTypes): null | LoadedGif => {\n  const [data, setData] = useState<null | LoadedGif>(null);\n  // prevent refetching the same image multiple times\n  const image = useMemo(() => load(source), [source]);\n  useEffect(() => {\n    let mounted = true;\n    let url: null | string = null;\n    (async () => {\n      const loaded = await image;\n      url = loaded.src;\n      if (mounted) {\n        // only update state if the component is mounted\n        setData(loaded);\n      }\n    })();\n    return () => {\n      mounted = false;\n      // free memory from the image\n      if (url) {\n        URL.revokeObjectURL(url);\n      }\n    };\n  }, [image]);\n  return data;\n};\n\n// check for webp browser support (needed to support safari)\nconst supportsWebp = (): Promise<boolean> => {\n  return new Promise(resolve => {\n    const image = new Image();\n    // check that the image is loaded successfully\n    image.onload = () => {\n      resolve(image.width > 0 && image.height > 0);\n    };\n    // data uri of animated webp to test for support\n    image.src =\n      \"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA\";\n  });\n};\n\ninterface GifDisplayProps {\n  source: ImageAllTypes;\n  title: string;\n}\n\n// load the gif in the background, swapping in for a placeholder when fully loaded\nconst GifDisplay = React.memo(\n  ({ source, title }: GifDisplayProps) => {\n    const theme = useContext(ThemeContext);\n    const image = useBackgroundLoad(source);\n    const ratio = source.height / source.width;\n    if (image !== null) {\n      if (image.format === GifFormat.Image) {\n        return <img src={image.src} alt={title} style={{ width: \"100%\" }} />;\n      } else {\n        return (\n          <video\n            autoPlay\n            loop\n            muted\n            playsInline\n            src={image.src}\n            style={{ width: \"100%\" }}\n          />\n        );\n      }\n    }\n    return (\n      <StyledBox\n        paddingTop={`${ratio * 100}%`}\n        background={theme.backgrounds.primary}\n      />\n    );\n  },\n  (prev, next) => {\n    return prev.source.url === next.source.url;\n  }\n);\n\ninterface GifProps {\n  gif: IGif;\n  size: GifSize;\n  container?: React.RefObject<HTMLElement> | null;\n  onClick?: (gif: IGif) => void;\n}\n\n// lazy load a gif, waiting until it is nearly visible to being loading\nconst Gif = ({ gif, size, container = null, onClick }: GifProps) => {\n  const ref = useRef<HTMLDivElement>(null);\n  const isVisible = useVisibility(ref, container, 0, \"50px 0px\", true);\n  const username = gif.user ? gif.user.username : gif.username;\n  const theme = useContext(ThemeContext);\n  const source =\n    size === GifSize.Full ? gif.images.original : gif.images.fixed_width;\n  const ratio = source.height / source.width;\n  return (\n    <StyledBox\n      title={`${gif.title}${username && ` | @${username}`}`}\n      ref={ref}\n      onClick={() => onClick && onClick(gif)}\n    >\n      {isVisible ? (\n        <GifDisplay source={source} title={gif.title} />\n      ) : (\n        <StyledBox\n          paddingTop={`${ratio * 100}%`}\n          background={theme.backgrounds.primary}\n        />\n      )}\n    </StyledBox>\n  );\n};\n\nexport { Gif, GifDisplay, GifSize };\n","import React from \"react\";\nimport { AttachmentDisplay } from \"../AttachmentDisplay\";\nimport { TextMessage as TextMessageModel } from \"../messageModel\";\nimport { TextMessage } from \"foundations/components/chat\";\nimport { StyledBox } from \"foundations/components/layout\";\n\ntype TextMessageProps = {\n  message: TextMessageModel;\n  parentKey: string;\n};\n\n/**\n * Display a TextMessage such as it would appear in a list of messages\n */\nexport const TextMessageDisplay = ({\n  message,\n  parentKey\n}: TextMessageProps) => {\n  return (\n    <>\n      <TextMessage text={message.text} />\n      {message.attachments?.map((attachment, index) => (\n        <StyledBox marginTop=\"1\">\n          <AttachmentDisplay\n            key={`${parentKey}-attachment-${index}`}\n            attachment={attachment}\n          />\n        </StyledBox>\n      ))}\n    </>\n  );\n};\n","import { Dispatch } from \"redux\";\nimport { AppState } from \"main/storeTypes\";\nimport { createSelector } from \"reselect\";\nimport { createSignalReducer, Signal } from \"pubnub-redux\";\nimport { SignalActionType, PresenceCategory } from \"pubnub-redux\";\nimport { AppActions } from \"main/AppActions\";\nimport { SignalState } from \"pubnub-redux/dist/features/signal/SignalReducer\";\nimport { MessageActionType } from \"pubnub-redux\";\nimport { PresenceEventMessage } from \"pubnub-redux/dist/features/presence/PresenceActions\";\n\nexport const TYPING_INDICATOR_DURATION_SECONDS = 10;\n\nexport enum TypingIndicatorType {\n  ShowTypingIndicator = \"ti_show\",\n  HideTypingIndicator = \"ti_hide\"\n}\n\nexport enum TypingIndicatorActionType {\n  REMOVE_TYPING_INDICATOR = \"REMOVE_TYPING_INDICATOR\",\n  REMOVE_TYPING_INDICATOR_ALL = \"REMOVE_TYPING_INDICATOR_ALL\"\n}\n\nexport interface TypingIndicator extends Signal {\n  type: TypingIndicatorType;\n}\n\nexport type TypingIndicatorEnvelope = Required<\n  Pick<Signal, \"channel\" | \"message\" | \"timetoken\" | \"publisher\">\n> & {\n  message: TypingIndicator;\n};\n\nconst signalReducer = createSignalReducer<TypingIndicatorEnvelope>();\n\nconst defaultState = { byId: {} };\n\nconst removeTypingIndicator = (\n  state: SignalState<TypingIndicatorEnvelope>,\n  channel: string,\n  userId: string,\n  timetoken?: number\n): SignalState<TypingIndicatorEnvelope> => {\n  let newState = {\n    byId: { ...state.byId }\n  };\n\n  if (newState.byId[channel]) {\n    newState.byId[channel] = newState.byId[channel].filter(signal =>\n      timetoken\n        ? !(signal.publisher === userId && signal.timetoken === timetoken)\n        : !(signal.publisher === userId)\n    );\n  }\n\n  return newState;\n};\n\n/**\n * create a reducer which holds all typing indicator signal objects in a normalized form\n */\nexport const TypingIndicatorStateReducer = (\n  state: SignalState<TypingIndicatorEnvelope>,\n  action: AppActions\n): SignalState<TypingIndicatorEnvelope> => {\n  switch (action.type) {\n    case SignalActionType.SIGNAL_RECEIVED:\n      if (\n        action.payload.message.type === TypingIndicatorType.ShowTypingIndicator\n      ) {\n        // we only want to store the show typing indicator signals\n        // the hide signal is handled by the listener below\n        return signalReducer(state, action);\n      }\n\n      return state || defaultState;\n    case TypingIndicatorActionType.REMOVE_TYPING_INDICATOR:\n      return removeTypingIndicator(\n        state,\n        action.payload.channel,\n        action.payload.userId,\n        action.payload.timetoken\n      );\n    case TypingIndicatorActionType.REMOVE_TYPING_INDICATOR_ALL:\n      return removeTypingIndicator(\n        state,\n        action.payload.channel,\n        action.payload.userId\n      );\n    case MessageActionType.MESSAGE_RECEIVED:\n      return removeTypingIndicator(\n        state,\n        action.payload.channel,\n        action.payload.message.senderId\n      );\n    default:\n      return state || defaultState;\n  }\n};\n\nexport interface RemoveTypingIndicatorPayload {\n  userId: string;\n  channel: string;\n  timetoken: number;\n}\n\nexport interface RemoveTypingIndicatorAllPayload {\n  userId: string;\n  channel: string;\n}\n\nexport interface RemoveTypingIndicatorAction {\n  type: typeof TypingIndicatorActionType.REMOVE_TYPING_INDICATOR;\n  payload: RemoveTypingIndicatorPayload;\n}\n\nexport interface RemoveTypingIndicatorAllAction {\n  type: typeof TypingIndicatorActionType.REMOVE_TYPING_INDICATOR_ALL;\n  payload: RemoveTypingIndicatorAllPayload;\n}\n\n/**\n * This Slice selector is used internally to access the state of the reducer,\n * primarily as the base selector function for creating other selectors.\n */\nconst getTypingIndicatorsSlice = (\n  state: AppState\n): SignalState<TypingIndicatorEnvelope> => state.typingIndicators;\n\n/**\n * Returns an index which can be used to find signal objects\n */\nexport const getTypingIndicatorsById = createSelector(\n  [getTypingIndicatorsSlice],\n  typingIndicators => {\n    return typingIndicators.byId;\n  }\n);\n\nexport const typingIndicatorRemoved = (\n  payload: RemoveTypingIndicatorPayload\n): RemoveTypingIndicatorAction => ({\n  type: TypingIndicatorActionType.REMOVE_TYPING_INDICATOR,\n  payload\n});\n\nexport const typingIndicatorRemovedAll = (\n  payload: RemoveTypingIndicatorAllPayload\n): RemoveTypingIndicatorAllAction => ({\n  type: TypingIndicatorActionType.REMOVE_TYPING_INDICATOR_ALL,\n  payload\n});\n\n/**\n * This listener will initiate a timer to dispatch a RemoveTypingIndicatorAction once the\n * TYPING_INDICATOR_DURATION_SECONDS time is passed\n */\nexport const createTypingIndicatorsListener = (\n  dispatch: Dispatch<AppActions>\n): any => ({\n  signal: (payload: TypingIndicatorEnvelope) => {\n    if (payload.message.type === TypingIndicatorType.ShowTypingIndicator) {\n      // hide indicator after display seconds\n      setTimeout(() => {\n        dispatch(\n          typingIndicatorRemoved({\n            userId: payload.publisher,\n            channel: payload.channel,\n            timetoken: payload.timetoken\n          })\n        );\n      }, TYPING_INDICATOR_DURATION_SECONDS * 1000);\n    } else if (\n      payload.message.type === TypingIndicatorType.HideTypingIndicator\n    ) {\n      // hide indicator now, removes all for user regardless of time token\n      dispatch(\n        typingIndicatorRemovedAll({\n          userId: payload.publisher,\n          channel: payload.channel\n        })\n      );\n    }\n  },\n  presence: (payload: PresenceEventMessage) => {\n    if (\n      payload.action === PresenceCategory.LEAVE ||\n      payload.action === PresenceCategory.TIMEOUT\n    ) {\n      dispatch(\n        typingIndicatorRemovedAll({\n          userId: payload.uuid,\n          channel: payload.channel\n        })\n      );\n    }\n  }\n});\n","import React from \"react\";\nimport { GiphyMessage } from \"foundations/components/chat\";\nimport { GiphyMessage as GiphyMessageModel } from \"../messageModel\";\nimport { Gif, GifSize } from \"features/gifs/Gif\";\nimport { StyledBox } from \"foundations/components/layout\";\n\ntype GiphyMessageProps = {\n  message: GiphyMessageModel;\n};\n\n/**\n * Display a GiphyMessage such as it would appear in a list of messages\n */\nexport const GiphyMessageDisplay = ({ message }: GiphyMessageProps) => {\n  const gif = message.gif;\n  const title = message.query;\n  return (\n    <StyledBox maxWidth={`${gif.images.original.width}px`}>\n      <GiphyMessage title={title} url={gif.url} author={gif.user?.username}>\n        <Gif gif={gif} size={GifSize.Full} />\n      </GiphyMessage>\n    </StyledBox>\n  );\n};\n","import { AppState } from \"main/storeTypes\";\nimport { createSelector } from \"reselect\";\nimport {\n  createMessageReducer,\n  Message as PubNubMessageEnvelope,\n} from \"pubnub-redux\";\nimport { AppMessage } from \"sharedTypes/messageModel\";\nexport { MessageType } from \"sharedTypes/messageModel\";\nexport type {\n  AppMessage,\n  TextMessage,\n  GiphyMessage,\n} from \"sharedTypes/messageModel\";\n\nexport type MessageEnvelope = Required<\n  Pick<PubNubMessageEnvelope, \"channel\" | \"message\" | \"timetoken\">\n> & {\n  message: AppMessage;\n};\n\n/**\n * create a reducer which holds all known messsage envelope objects in a normalized form\n */\nexport const MessageStateReducer = createMessageReducer<MessageEnvelope>();\n\n/**\n * THis Slice selector is used internally to access the state of the reducer,\n * primarily as the base selector function for creating other selectors.\n */\nconst getMessagesSlice = (state: AppState) => state.messages;\n\n/**\n * Returns an index which can be used to find user objects\n */\nexport const getMessagesById = createSelector(\n  [getMessagesSlice],\n  (messages) => {\n    return messages.byId;\n  }\n);\n","import React from \"react\";\nimport invariant from \"invariant\";\nimport { TextMessageDisplay } from \"features/messages/TextMessageDisplay\";\nimport { GiphyMessageDisplay } from \"features/messages/GiphyMessageDisplay\";\nimport { MessageType, AppMessage } from \"features/messages/messageModel\";\nimport { BaseMessage } from \"sharedTypes/messageModel\";\n\ntype MessageProps = {\n  message: AppMessage;\n  parentKey: string;\n};\n\n/**\n * Display a Message based on its type\n */\nexport const MessageDisplay = ({ message, parentKey }: MessageProps) => {\n  switch (message.type) {\n    case MessageType.Text:\n      return (\n        <TextMessageDisplay\n          message={message}\n          parentKey={parentKey}\n        ></TextMessageDisplay>\n      );\n\n    case MessageType.Giphy:\n      return <GiphyMessageDisplay message={message}></GiphyMessageDisplay>;\n\n    // <== Add additional message types here.\n\n    // Don't show anything for an unrecognized message type\n    default:\n      invariant(\n        false,\n        `No component available for displaying message of type \"${\n          (message as BaseMessage).type\n        }\"`\n      );\n  }\n};\n","import React, { ReactNode } from \"react\";\nimport convertTimestampToTime from \"foundations/utilities/convertTimestampToTime\";\nimport useHover from \"foundations/hooks/useHover\";\nimport {\n  Heading,\n  Label,\n  LabelSizes\n} from \"foundations/components/presentation\";\nimport { StyledBox, FlexColumn, FlexRow } from \"foundations/components/layout\";\nimport { MessageDisplay } from \"features/messages/MessageDisplay\";\nimport { AppMessage } from \"features/messages/messageModel\";\n\n// TODO: Explain message fragment\nexport interface MessageFragment {\n  sender: {\n    id: string;\n    name: string;\n  };\n  timetoken: string;\n  message: AppMessage;\n}\n\ninterface MessageProps {\n  messageFragment: MessageFragment;\n  avatar: ReactNode;\n}\n\n/**\n * Display a message as it appears in a list\n */\nconst MessageListItem = ({ messageFragment, avatar }: MessageProps) => {\n  const sender = messageFragment.sender;\n  const [isHovering, hoverProps] = useHover({ mouseEnterDelayMS: 0 });\n\n  return (\n    <FlexRow\n      py=\"1\"\n      px={[5, 6]}\n      alignItems=\"flex-start\"\n      bg={isHovering ? \"backgrounds.contentHover\" : \"\"}\n      {...hoverProps}\n    >\n      {avatar}\n      <FlexColumn marginLeft=\"5\" flexGrow={1}>\n        <FlexRow marginBottom=\"1\">\n          <StyledBox marginRight=\"3\">\n            <Heading>{sender.name}</Heading>\n          </StyledBox>\n          <Label size={LabelSizes.SMALL}>\n            {convertTimestampToTime(messageFragment.timetoken)}\n          </Label>\n        </FlexRow>\n\n        <MessageDisplay\n          message={messageFragment.message}\n          parentKey={messageFragment.timetoken}\n        ></MessageDisplay>\n      </FlexColumn>\n    </FlexRow>\n  );\n};\n\nexport { MessageListItem };\n","export default (ts: string) => {\n  const date = new Date(parseInt(ts) / 10000);\n  const minutes = date.getMinutes();\n  return `${date.getHours()}:${minutes > 9 ? minutes : \"0\" + minutes}`;\n};\n","import React, { useEffect, useState, useCallback, useContext } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { createSelector } from \"reselect\";\nimport { MessageListItem, MessageFragment } from \"../MessageListItem\";\nimport { getCurrentConversationId } from \"../currentConversationModel\";\nimport { getUsersById } from \"features/users/userModel\";\nimport { getMessagesById } from \"features/messages/messageModel\";\nimport { getUniqueColor, getInitials } from \"foundations/utilities\";\nimport { Avatar, AvatarVariants } from \"foundations/components/chat\";\nimport { ScrollView, FlexColumn } from \"foundations/components/layout\";\nimport { ThemeContext } from \"styled-components\";\nimport {\n  usePagination,\n  GetNextPage,\n  SavePaginationState\n} from \"foundations/hooks/usePagination\";\nimport { fetchMessageHistory, fetchUserData } from \"pubnub-redux\";\nimport {\n  MessageHistoryRetrievedAction,\n  HistoryResponseMessage\n} from \"pubnub-redux/dist/features/message/MessageActions\";\nimport { useDispatch } from \"react-redux\";\nimport { getHistoryPaginationStateById } from \"features/pagination/Selectors\";\nimport { setHistoryPagination } from \"features/pagination/PaginationActions\";\n\n/**\n * Create a selector that that returns the list of messages in the currentConversation joined\n * to the user that sent that message\n *\n * TODO:\n * This implementation will cause the dependant component to re-render if any user data has changed\n * if the current conversation has changed or if any message has changed or if any user has changed.\n * This needs to be reduced in scope\n *\n * TODO: This needs to sort by time token; object keys are not guarenteed to retain order in js.\n */\nexport const getCurrentConversationMessages = createSelector(\n  [getMessagesById, getCurrentConversationId, getUsersById],\n  (messages, conversationId, users): MessageFragment[] => {\n    return messages[conversationId]\n      ? Object.values(messages[conversationId])\n          .filter(message => message.channel === conversationId)\n          .map(\n            (message): MessageFragment => {\n              // if the user is unknown queue up a request for the missing data\n              return {\n                ...message,\n                timetoken: String(message.timetoken),\n                sender:\n                  (users[message.message.senderId] as {\n                    id: string;\n                    name: string;\n                  }) ||\n                  (users[message.message.senderId]\n                    ? {\n                        id: message.message.senderId,\n                        name: message.message.senderId\n                      }\n                    : {\n                        id: \"unknown\",\n                        name: \"unknown\"\n                      })\n              };\n            }\n          )\n          .sort((messageA, messageB) => {\n            if (messageA.timetoken === messageB.timetoken) {\n              return 0;\n            } else if (messageA.timetoken > messageB.timetoken) {\n              return 1;\n            } else {\n              return -1;\n            }\n          })\n      : [];\n  }\n);\n\n// find users who have messages in the channel but are not loaded yet\nexport const getUnknownUsers = createSelector(\n  [getMessagesById, getCurrentConversationId, getUsersById],\n  (messages, conversationId, users): string[] => {\n    return messages[conversationId]\n      ? Object.values(messages[conversationId])\n          .filter(message => message.channel === conversationId)\n          .filter(\n            message =>\n              // if the user is unknown queue up a request for the missing data\n              !users[message.message.senderId]\n          )\n          .map(message => message.message.senderId)\n      : [];\n  }\n);\n\n// prevent multiple fetches for the same data\nconst wasFetched = (() => {\n  const ids: { [id: string]: boolean } = {};\n  return (id: string) => {\n    if (ids.hasOwnProperty(id)) {\n      return true;\n    } else {\n      ids[id] = true;\n      return false;\n    }\n  };\n})();\n\nconst MessageList = () => {\n  const dispatch = useDispatch();\n  const [height, setHeight] = useState(0);\n  type ConversationScrollPositionsType = { [conversationId: string]: number };\n  const conversationId: string = useSelector(getCurrentConversationId);\n  const [\n    conversationsScrollPositions,\n    setConversationsScrollPositions\n  ] = useState<ConversationScrollPositionsType>({});\n\n  const updateCurrentConversationScrollPosition = (scrollPosition: number) => {\n    setConversationsScrollPositions({\n      ...conversationsScrollPositions,\n      [conversationId]: scrollPosition\n    });\n  };\n\n  const handleScroll = (e: any) => {\n    const scrollPosition = e.target.scrollTop;\n    if (scrollPosition !== 0) {\n      updateCurrentConversationScrollPosition(scrollPosition);\n    }\n  };\n\n  const storedPaginationState = useSelector(getHistoryPaginationStateById)[\n    conversationId\n  ];\n\n  const restorePaginationState = useCallback(() => {\n    return storedPaginationState;\n  }, [storedPaginationState]);\n\n  const savePaginationState: SavePaginationState<\n    string | undefined,\n    string\n  > = useCallback(\n    (channel, pagination, count, pagesRemain) => {\n      dispatch(\n        setHistoryPagination(channel, { pagination, count, pagesRemain })\n      );\n    },\n    [dispatch]\n  );\n\n  const getNextPage: GetNextPage<\n    HistoryResponseMessage<unknown>,\n    string | undefined,\n    string\n  > = useCallback(\n    async (tt, total, channel) => {\n      const pageSize = 100;\n      const action = ((await dispatch(\n        fetchMessageHistory({\n          count: pageSize,\n          channel,\n          start: tt || undefined,\n          stringifiedTimeToken: true\n        })\n      )) as unknown) as MessageHistoryRetrievedAction<unknown, unknown>;\n      const response = action.payload.response;\n      return {\n        results: response.messages,\n        pagination: `${response.startTimeToken}`,\n        pagesRemain: response.messages.length === pageSize\n      };\n    },\n    [dispatch]\n  );\n\n  const { containerRef, endRef } = usePagination(\n    getNextPage,\n    conversationId,\n    savePaginationState,\n    restorePaginationState\n  );\n\n  const restoreConversationScrollPosition = (conversationId: string) => {\n    const conversationScrollPosition: number =\n      conversationsScrollPositions[conversationId];\n    if (containerRef.current) {\n      if (conversationScrollPosition) {\n        containerRef.current.scrollTo(0, conversationScrollPosition);\n      } else {\n        // scroll to bottom\n        containerRef.current.scrollTo(0, containerRef.current.scrollHeight);\n      }\n    }\n  };\n\n  const memoizedRestoreConversationScrollPositionCallback = useCallback(\n    restoreConversationScrollPosition,\n    [conversationId]\n  );\n\n  const messages: MessageFragment[] = useSelector(\n    getCurrentConversationMessages\n  );\n\n  const unknownUsers = useSelector(getUnknownUsers);\n  useEffect(() => {\n    // send requests for missing data\n    unknownUsers.forEach(uuid => {\n      if (!wasFetched(uuid)) {\n        dispatch(\n          fetchUserData({\n            uuid\n          })\n        );\n      }\n    });\n  }, [unknownUsers, dispatch]);\n\n  const el = containerRef.current;\n\n  // when history is pulled, scroll down to compensate\n  const newHeight = el?.scrollHeight;\n  useEffect(() => {\n    if (height === 0 && newHeight) {\n      setHeight(newHeight);\n    } else if (newHeight && newHeight !== height) {\n      if (el) {\n        el.scrollTop += newHeight - height;\n      }\n      setHeight(newHeight);\n    }\n  }, [newHeight, height, el]);\n\n  const scrollToBottom = useCallback(() => {\n    return el && (el.scrollTop = el.scrollHeight - el.clientHeight);\n  }, [el]);\n\n  const hasReachedBottom = el\n    ? el.scrollHeight - el.clientHeight === el.scrollTop\n    : false;\n\n  useEffect(() => {\n    if (hasReachedBottom) {\n      scrollToBottom();\n    }\n  }, [messages.length, hasReachedBottom, scrollToBottom]);\n\n  useEffect(() => {\n    memoizedRestoreConversationScrollPositionCallback(conversationId);\n  }, [memoizedRestoreConversationScrollPositionCallback, conversationId]);\n\n  const theme = useContext(ThemeContext);\n\n  return (\n    <ScrollView ref={containerRef} onScroll={handleScroll}>\n      <FlexColumn minHeight=\"100%\" flexGrow={1} paddingBottom=\"1\">\n        {/* This moves the list of messages to the bottom, since there's a bug with flex-end scroll */}\n        <FlexColumn flex=\"1 1 auto\"></FlexColumn>\n\n        <div ref={endRef} />\n        {messages.map(message => (\n          <MessageListItem\n            messageFragment={message}\n            key={message.timetoken}\n            avatar={\n              <Avatar\n                variant={AvatarVariants.ROUND}\n                bg={getUniqueColor(\n                  message.sender.id,\n                  (theme.colors.avatars as any) as string[]\n                )}\n              >\n                {getInitials(message.sender.name)}\n              </Avatar>\n            }\n          />\n        ))}\n      </FlexColumn>\n    </ScrollView>\n  );\n};\n\nexport { MessageList };\n","import { AppState } from \"main/storeTypes\";\nimport { AppActions } from \"main/AppActions\";\nimport { createSelector } from \"reselect\";\nimport { DraftMessage } from \"features/messages/draft\";\n\nexport const MESSAGE_DRAFT_UPDATED = \"MESSAGE_DRAFT_UPDATED\";\nexport const MESSAGE_DRAFT_DISCARDED = \"MESSAGE_DRAFT_DISCARDED\";\n\nexport interface MessageDraftUpdatedAction {\n  type: typeof MESSAGE_DRAFT_UPDATED;\n  payload: {\n    conversationId: string;\n    value: DraftMessage;\n  };\n}\n\nexport interface MessageDraftDiscardedAction {\n  type: typeof MESSAGE_DRAFT_DISCARDED;\n  payload: {\n    conversationId: string;\n  };\n}\n\n/**\n * Describes a way to lookup a user from a userId\n */\nexport type DraftsIndex = { [id: string]: DraftMessage };\n\nexport interface ConversationDraftState {\n  messageDraftById: DraftsIndex;\n}\n\nconst initialState: ConversationDraftState = {\n  messageDraftById: {}\n};\n\nexport const ConversationDraftStateReducer = (\n  state: ConversationDraftState = initialState,\n  action: AppActions\n): ConversationDraftState => {\n  switch (action.type) {\n    case MESSAGE_DRAFT_UPDATED: {\n      const messageDraftById = {\n        ...state.messageDraftById,\n        [action.payload.conversationId]: action.payload.value\n      };\n      return {\n        ...state,\n        messageDraftById\n      };\n    }\n    case MESSAGE_DRAFT_DISCARDED: {\n      const {\n        [action.payload.conversationId]: discard,\n        ...messageDraftById\n      } = state.messageDraftById;\n      return {\n        ...state,\n        messageDraftById\n      };\n    }\n  }\n  return state;\n};\n\nconst getDraftSlice = (state: AppState) => state.drafts;\n\n/**\n * Returns an index which can be used to find user objects\n */\nexport const getMessageDrafts = createSelector(\n  [getDraftSlice],\n  (drafts): DraftsIndex => {\n    return drafts.messageDraftById;\n  }\n);\n","import { ThunkAction } from \"main/storeTypes\";\nimport { getCurrentConversationId } from \"features/currentConversation/currentConversationModel\";\nimport { DraftMessage } from \"./draft\";\nimport { sendMessage as sendPubnubMessage } from \"pubnub-redux\";\n\n/**\n * Send a message to the current conversation\n *\n * This command does not handle failure and leaves the error to the caller\n */\nexport const sendMessage = (message: DraftMessage): ThunkAction => {\n  return (dispatch, getState) => {\n    const state = getState();\n    return dispatch(\n      sendPubnubMessage({\n        channel: getCurrentConversationId(state),\n        message\n      })\n    );\n  };\n};\n","import { ThunkAction } from \"main/storeTypes\";\nimport { getCurrentConversationId } from \"features/currentConversation/currentConversationModel\";\nimport { sendSignal } from \"pubnub-redux\";\nimport { TypingIndicatorType } from \"./typingIndicatorModel\";\n\n/**\n * Send a typing indicator to the current conversation\n *\n * This command does not handle failure and leaves the error to the caller\n */\nexport const sendTypingIndicator = (\n  typingIndicatorType: TypingIndicatorType\n): ThunkAction => {\n  return (dispatch, getState) => {\n    const state = getState();\n    return dispatch(\n      sendSignal({\n        channel: getCurrentConversationId(state),\n        message: { type: typingIndicatorType }\n      })\n    );\n  };\n};\n","import \"emoji-mart/css/emoji-mart.css\";\nimport React, { useContext } from \"react\";\nimport { Picker as EmojiPicker, EmojiData } from \"emoji-mart\";\nimport { ThemeContext } from \"styled-components\";\nimport { Icons } from \"foundations/components/presentation\";\nimport { Dropdown } from \"foundations/components/layout\";\n\ninterface EmojiInputProps {\n  value: string;\n  onSelection(contentWithEmoji: string): void;\n}\n\nconst EmojiInput = ({ value, onSelection }: EmojiInputProps) => {\n  const theme = useContext(ThemeContext);\n\n  return (\n    <Dropdown\n      icon={Icons.Emoji}\n      right=\"0\"\n      bottom=\"0\"\n      title=\"Open emoji selector\"\n      render={dismiss => {\n        const addEmoji = (emoji: EmojiData) => {\n          if (\"native\" in emoji) {\n            onSelection(`${value}${emoji.native}`);\n            dismiss();\n          }\n        };\n        return (\n          <EmojiPicker\n            emoji=\"\"\n            title=\"\"\n            native={true}\n            onSelect={addEmoji}\n            darkMode={theme.custom.dark}\n            color={theme.colors.active}\n          />\n        );\n      }}\n    />\n  );\n};\n\nexport { EmojiInput };\n","import React from \"react\";\nimport { ImageAllTypes } from \"@giphy/js-types\";\nimport { GifDisplay } from \"../Gif/Gif\";\nimport { FlexColumn, StyledBox } from \"foundations/components/layout\";\n\ninterface PlaceholderMessageObject {\n  text: string;\n  image: ImageAllTypes;\n}\n\n// pre selected gifs and messages for when there are no results\nexport const placeholderMessages: {\n  [name: string]: PlaceholderMessageObject;\n} = {\n  notFound: {\n    text: \"No Gifs Found\",\n    image: {\n      height: 168,\n      mp4:\n        \"https://media3.giphy.com/media/9J7tdYltWyXIY/200w.mp4?cid=d375303d93d6fe4ede336d9eb0a9a8fc2738c9a516275300&rid=200w.mp4\",\n      mp4_size: \"60460\",\n      size: \"237606\",\n      url:\n        \"https://media3.giphy.com/media/9J7tdYltWyXIY/200w.gif?cid=d375303d93d6fe4ede336d9eb0a9a8fc2738c9a516275300&rid=200w.gif\",\n      webp:\n        \"https://media3.giphy.com/media/9J7tdYltWyXIY/200w.webp?cid=d375303d93d6fe4ede336d9eb0a9a8fc2738c9a516275300&rid=200w.webp\",\n      webp_size: \"109816\",\n      width: 200\n    }\n  },\n  empty: {\n    text: \"Search for Gifs\",\n    image: {\n      height: 150,\n      mp4:\n        \"https://media2.giphy.com/media/xGdvlOVSWaDvi/200w.mp4?cid=d375303dfd9714d816164906efde8a2b5d928c7cf3f1cecc&rid=200w.mp4\",\n      mp4_size: \"31905\",\n      size: \"140489\",\n      url:\n        \"https://media2.giphy.com/media/xGdvlOVSWaDvi/200w.gif?cid=d375303dfd9714d816164906efde8a2b5d928c7cf3f1cecc&rid=200w.gif\",\n      webp:\n        \"https://media2.giphy.com/media/xGdvlOVSWaDvi/200w.webp?cid=d375303dfd9714d816164906efde8a2b5d928c7cf3f1cecc&rid=200w.webp\",\n      webp_size: \"55966\",\n      width: 200\n    }\n  }\n};\n\nexport const PlaceholderMessage = ({\n  message: { text, image }\n}: {\n  message: PlaceholderMessageObject;\n}) => {\n  return (\n    <FlexColumn alignItems=\"center\" justifyContent=\"center\" height=\"100%\">\n      <StyledBox\n        display=\"flex\"\n        borderRadius=\"light\"\n        overflow=\"hidden\"\n        marginBottom=\"1\"\n      >\n        <GifDisplay source={image} title={text + \" gif\"} />\n      </StyledBox>\n      {text}\n    </FlexColumn>\n  );\n};\n","import React from \"react\";\nimport { FlexRow, FlexColumn } from \"foundations/components/layout\";\n\nexport interface Size {\n  width: number;\n  height: number;\n}\n\ntype getSizeForItem<T> = (item: T) => Size;\n\nconst layoutItems = <T extends {}>(\n  items: T[],\n  columns: number,\n  getSizeForItem: getSizeForItem<T>,\n  prevHeights?: number[],\n  prevBaseline?: number\n): [T[][], number[], number] => {\n  const columnData: T[][] = new Array(columns).fill(null).map(() => []);\n  const heights = prevHeights || new Array(columns).fill(0);\n  let baseline = prevBaseline || 1000;\n  // sort into columns with masonry math\n  let position = 0;\n  let itemIndex = 0;\n\n  if (items.length === 0) {\n    return [columnData, heights, baseline];\n  }\n\n  // continue until all items are placed\n  while (true) {\n    const item = items[itemIndex];\n    const fullHeight = getSizeForItem(item).height;\n    const threshold = fullHeight * 0.5;\n\n    // test if the item fits in the current row\n    if (heights[position] + threshold < baseline) {\n      // place item\n      columnData[position].push(item);\n      heights[position] += fullHeight;\n      // after placing, move to the next item and next row\n      itemIndex++;\n    }\n\n    position++;\n    // all items placed\n    if (itemIndex >= items.length) {\n      break;\n    }\n\n    if (position === columns) {\n      // loop around\n      position = 0;\n      // recalculate baseline\n      const newBaseline = heights.reduce((a, b) => (a > b ? a : b));\n      // prevent infinite loop\n      if (newBaseline === baseline) {\n        baseline = newBaseline + getSizeForItem(items[itemIndex]).height;\n      } else {\n        baseline = newBaseline;\n      }\n    }\n  }\n  return [columnData, heights, baseline];\n};\n\n// organize by column instead of by page\nconst byColumn = <T extends {}>(finalColumns: T[][][], columns: number) => {\n  return finalColumns.reduce((combined, page) => {\n    page.forEach((column, index) => {\n      combined[index].push(column);\n    });\n    return combined;\n  }, new Array(columns).fill(null).map(() => []) as T[][][]);\n};\n\ntype RenderItem<T> = (item: T, key: string) => React.ReactNode;\n// all the gifs in one page that go in the same column\ninterface BatchProps<T> {\n  items: T[];\n  id: string;\n  render: RenderItem<T>;\n}\n\nconst Batch = <T extends {}>({ items, id, render }: BatchProps<T>) => {\n  return <>{items.map((item, index) => render(item, `${id}.${index}`))}</>;\n};\n\ninterface MasonryProps<T> {\n  groupedItems: T[][];\n  columns: number;\n  // changing the value of reset key indicates existing pages should be invalidated\n  reset: string;\n  getSizeForItem: getSizeForItem<T>;\n  render: RenderItem<T>;\n}\n\n// React.memo doesn't work with generics, so we have to workaround it a bit\nconst typed = <T extends {}>() => {\n  const MemoBatch = (React.memo(Batch, (old, current) => {\n    // if the id changes, the masonry has recieved completely new content\n    return old.id === current.id && old.items.length === current.items.length;\n  }) as unknown) as React.FC<BatchProps<T>>;\n\n  const Masonry = ({\n    groupedItems,\n    columns,\n    reset,\n    getSizeForItem,\n    render\n  }: MasonryProps<T>) => {\n    // layout each page using reisdual space from previous set\n    const finalColumns: T[][][] = [];\n    let heights: number[] = new Array(columns).fill(0);\n    let baseline = 1000;\n    for (const page of groupedItems) {\n      const [columnData, newHeights, newBaseline] = layoutItems(\n        page,\n        columns,\n        getSizeForItem,\n        heights,\n        baseline\n      );\n      finalColumns.push(columnData);\n      baseline = newBaseline;\n      heights = newHeights;\n    }\n    const sorted = byColumn(finalColumns, columns);\n    // render split columns\n    return (\n      <FlexRow alignItems=\"flex-start\" justifyContent=\"space-between\">\n        {sorted.map((column, index) => {\n          return (\n            <FlexColumn\n              key={`col-${index}`}\n              maxWidth={`calc(${100 / columns}% - 5px)`}\n            >\n              {column.map((items, batch) => (\n                <MemoBatch\n                  key={`col-${index}.batch-${batch}`}\n                  id={reset}\n                  items={items}\n                  render={render}\n                />\n              ))}\n            </FlexColumn>\n          );\n        })}\n      </FlexRow>\n    );\n  };\n\n  return (React.memo(Masonry) as unknown) as React.FC<MasonryProps<T>>;\n};\n\nexport { typed };\n","import React, { useState, useCallback } from \"react\";\nimport { PlaceholderMessage, placeholderMessages } from \"./PlaceholderMessage\";\nimport { IGif } from \"@giphy/js-types\";\nimport { Gif, GifSize } from \"../Gif\";\nimport { useDebounce } from \"foundations/hooks/useDebounce\";\nimport attribution from \"foundations/components/chat/giphy-message/attribution.png\";\nimport { Input } from \"foundations/components/presentation\";\nimport { StyledBox, ScrollView } from \"foundations/components/layout\";\nimport { typed } from \"../Masonry/Masonry\";\nimport { usePagination, GetNextPage } from \"foundations/hooks/usePagination\";\n\nconst Masonry = typed<IGif>();\n\nconst PAGE_SIZE = 25;\ninterface GiphySearch {\n  data: IGif[];\n  pagination: { total_count: number; count: number; offset: number };\n}\n\n// make a request to the giphy search api\nconst search = async (query: string, offset: number): Promise<GiphySearch> => {\n  try {\n    const response = await fetch(\n      `https://api.giphy.com/v1/gifs/search?api_key=${\n        process.env.REACT_APP_GIPHY_API_KEY\n      }&q=${encodeURIComponent(\n        query\n      )}&limit=${PAGE_SIZE}&offset=${offset}&rating=G&lang=en`\n    );\n    const results = (await response.json()) as GiphySearch;\n    return results;\n  } catch {\n    return { data: [], pagination: { total_count: 0, count: 0, offset: 0 } };\n  }\n};\n\nexport type onSelectedHandler = (gif: IGif, query: string) => void;\n\ninterface GifPickerOptions {\n  onSelected: onSelectedHandler;\n}\n\n// gif picker with infinite loading and search\nconst GifPicker = ({ onSelected }: GifPickerOptions) => {\n  const [query, setQuery] = useState(\"\");\n  const debouncedQuery = useDebounce(query, 400);\n\n  const getNextPage: GetNextPage<\n    IGif,\n    GiphySearch[\"pagination\"],\n    string\n  > = useCallback(async (prev, _total, query) => {\n    // bail out\n    const { data: results, pagination } = await search(\n      query,\n      prev ? prev.offset + prev.count : 0\n    );\n    return {\n      results,\n      pagination,\n      pagesRemain: pagination.offset + pagination.count < pagination.total_count\n    };\n  }, []);\n  const isEnabled = debouncedQuery.length > 0;\n  const {\n    results,\n    containerRef: picker,\n    endRef: bottom,\n    responseId: reset\n  } = usePagination(\n    getNextPage,\n    debouncedQuery,\n    undefined,\n    undefined,\n    isEnabled\n  );\n\n  const curried = (gif: IGif) => onSelected(gif, query);\n\n  return (\n    <StyledBox\n      bg=\"backgrounds.panel\"\n      border=\"dark\"\n      borderRadius=\"light\"\n      padding=\"1\"\n      maxWidth=\"calc(100vw - 50px)\"\n      width=\"430px\"\n    >\n      <Input\n        placeholder=\"Search GIPHY\"\n        value={query}\n        onChange={e => setQuery(e.target.value)}\n        attribution={attribution}\n      />\n      <ScrollView height=\"400px\" ref={picker}>\n        {!query && <PlaceholderMessage message={placeholderMessages.empty} />}\n        {query && results?.length === 0 && (\n          <PlaceholderMessage message={placeholderMessages.notFound} />\n        )}\n        <StyledBox>\n          {query && results && results.length > 0 && (\n            <Masonry\n              groupedItems={results || []}\n              reset={reset}\n              columns={2}\n              getSizeForItem={i => {\n                const item = i.images.fixed_width;\n                // workaround for https://github.com/Giphy/giphy-js/issues/126\n                return {\n                  height: parseInt((item.height as unknown) as string),\n                  width: parseInt((item.width as unknown) as string)\n                };\n              }}\n              render={(item, key) => (\n                <StyledBox\n                  borderRadius=\"strong\"\n                  overflow=\"hidden\"\n                  marginTop=\"1\"\n                >\n                  <Gif\n                    gif={item}\n                    size={GifSize.Preview}\n                    key={key}\n                    container={picker}\n                    onClick={curried}\n                  />\n                </StyledBox>\n              )}\n            />\n          )}\n        </StyledBox>\n        <div ref={bottom} />\n      </ScrollView>\n    </StyledBox>\n  );\n};\n\nexport { GifPicker };\n","import { useState, useEffect } from \"react\";\n\nexport const useDebounce = <T>(value: T, delay: number) => {\n  // State and setters for debounced value\n  const [debounced, setDebounced] = useState(value);\n\n  useEffect(() => {\n    const update = setTimeout(() => {\n      setDebounced(value);\n    }, delay);\n    return () => {\n      clearTimeout(update);\n    };\n  }, [value, delay]);\n\n  return debounced;\n};\n","import React from \"react\";\nimport { GifPicker, onSelectedHandler } from \"../GifPicker\";\nimport { Icons } from \"foundations/components/presentation\";\nimport { Dropdown } from \"foundations/components/layout\";\n\ninterface GifInputProps {\n  onSelection: onSelectedHandler;\n}\n\nconst GifInput = ({ onSelection }: GifInputProps) => {\n  return (\n    <Dropdown\n      icon={Icons.Giphy}\n      right=\"0\"\n      bottom=\"0\"\n      title=\"Open gif selector\"\n      render={dismiss => {\n        const onSelected: onSelectedHandler = (gif, query) => {\n          onSelection(gif, query);\n          dismiss();\n        };\n        return <GifPicker onSelected={onSelected} />;\n      }}\n    />\n  );\n};\n\nexport { GifInput };\n","import \"emoji-mart/css/emoji-mart.css\";\nimport React, { useRef, useContext } from \"react\";\nimport useClickOutside from \"foundations/hooks/useClickOutside\";\nimport { emojiIndex, EmojiData } from \"emoji-mart\";\nimport { ThemeContext } from \"styled-components\";\nimport { useMediaQuery } from \"foundations/hooks/useMediaQuery\";\nimport useHover from \"foundations/hooks/useHover\";\nimport {\n  Label,\n  LabelSizes,\n  LabelVariants,\n  Button\n} from \"foundations/components/presentation\";\nimport {\n  FlexColumn,\n  StyledBox,\n  ScrollView\n} from \"foundations/components/layout\";\n\ntype EmojiInputProps = {\n  value: string;\n  onSelection(contentWithEmoji: string): any;\n};\n\nconst getEmojisFromEmojiSearchTerm = (emojiSearchTerm: string) =>\n  (emojiIndex.search(emojiSearchTerm) as any) as EmojiData[];\n\nconst getEmojiSearchTerm = (content: string) => {\n  // I don't think this is cross browser - haven't for a better way to detect newlines yet\n  let search = \"\";\n  const colons = content.match(/:([a-z_]+)(:)?/);\n  if (colons) {\n    if (colons[2] !== undefined) {\n      // closing colon is present\n      const match = emojiIndex.emojis[colons[1]];\n      if (match && \"native\" in match) {\n        content = content.replace(colons[0], match.native);\n        search = \"\";\n      } else {\n        const results = (emojiIndex.search(colons[1]) as any) as EmojiData[];\n        if (results[0] && \"native\" in results[0]) {\n          content = content.replace(colons[0], (results[0] as any).native);\n        }\n        search = \"\";\n      }\n    } else if (colons[1].length > 1) {\n      // colons aren't closed, use the search\n      search = colons[1];\n    } else if (colons[1]) {\n      search = \"\";\n    }\n  }\n  return search;\n};\n\nconst EmojiSuggestion = ({ value, onSelection }: EmojiInputProps) => {\n  const suggestions = useRef<HTMLDivElement>(null);\n  const theme = useContext(ThemeContext);\n  const isMedium = useMediaQuery(theme.mediaQueries.medium);\n\n  const replaceEmoji = (search: string, emoji: EmojiData) => {\n    if (\"native\" in emoji) {\n      const txt = value.replace(`:${search}`, emoji.native);\n      onSelection(txt);\n    }\n  };\n\n  let displayed = false;\n\n  const emojiSearchTerm = getEmojiSearchTerm(value);\n  const emojis = getEmojisFromEmojiSearchTerm(emojiSearchTerm);\n\n  if (emojiSearchTerm !== \"\" && emojis.length > 0) {\n    displayed = true;\n  } else {\n    displayed = false;\n  }\n  useClickOutside([suggestions], () => {\n    displayed = false;\n  });\n\n  const EmojiResult = ({ emoji }: { emoji: EmojiData }) => {\n    const [isHovering, hoverProps] = useHover({ mouseEnterDelayMS: 0 });\n\n    return (\n      <StyledBox {...hoverProps}>\n        <Button hoverBg={theme.colors.active} borderRadius=\"light\">\n          <StyledBox\n            key={emoji.id}\n            onClick={() => replaceEmoji(emojiSearchTerm, emoji)}\n            px=\"2\"\n            py={[1, 2]}\n          >\n            {\"native\" in emoji && emoji.native}\n            <Label\n              size={LabelSizes.SMALL}\n              variant={isHovering ? LabelVariants.INVERSE : LabelVariants.DARK}\n            >\n              {emoji.colons}\n            </Label>\n          </StyledBox>\n        </Button>\n      </StyledBox>\n    );\n  };\n\n  return (\n    <StyledBox position=\"relative\">\n      {displayed && (\n        <StyledBox\n          ref={suggestions}\n          bg=\"backgrounds.panel\"\n          position=\"absolute\"\n          bottom=\"0\"\n          border=\"light\"\n          borderRadius=\"light\"\n        >\n          <ScrollView maxHeight=\"4\">\n            <StyledBox padding=\"1\" borderBottom=\"light\">\n              Suggestions for <b>{emojiSearchTerm}</b>\n            </StyledBox>\n            <FlexColumn\n              padding=\"1\"\n              justifyContent=\"flex-start\"\n              flexDirection={[\"row\", \"column\"]}\n              flexWrap={[\"wrap\", \"nowrap\"]}\n            >\n              {emojis.slice(0, isMedium ? 35 : 7).map(emoji => (\n                <EmojiResult emoji={emoji}></EmojiResult>\n              ))}\n            </FlexColumn>\n          </ScrollView>\n        </StyledBox>\n      )}\n    </StyledBox>\n  );\n};\n\nexport { EmojiSuggestion };\n","import invariant from \"invariant\";\nimport { MessageType, TextMessage, GiphyMessage } from \"./messageModel\";\n\n/**\n * We define a draft text message to to be identical to a finalized text message.\n *\n * This does not have to be the case for complext message types.  some fields might\n * be optional in the draft but required in the final version for example.\n */\nexport type DraftTextMessage = TextMessage;\n\nexport type DraftGiphyMessage = GiphyMessage;\n\n/**\n * This is a union of all draft message types defined by the application.\n *\n * This can differ from the final version of the\n * message in that fields might be missing or temporary editor state may be\n * included.\n *\n * we don't do any of those things in this example, but having a separate type\n * helps to clarify which parts of the code are working with unsent messages.\n */\nexport type DraftMessage = DraftTextMessage | DraftGiphyMessage;\n\n/**\n * Test if a draft message been modified (used to ignore unmodified drafts).\n */\nexport const isDraftModified = (message: DraftMessage) => {\n  switch (message.type) {\n    case MessageType.Text:\n      return message.text !== \"\";\n    default:\n      invariant(\n        false,\n        `Cannot determine if message of type \"${message.type}\" has been modified.`\n      );\n  }\n};\n","import React, { useEffect, useRef, useContext } from \"react\";\nimport { EmojiInput } from \"features/emoji/EmojiInput/EmojiInput\";\nimport { GifInput } from \"features/gifs/GifInput\";\nimport { IGif } from \"@giphy/js-types\";\nimport { EmojiSuggestion } from \"features/emoji/EmojiSuggestion/EmojiSuggestion\";\nimport { MessageType } from \"../messageModel\";\nimport { DraftTextMessage, isDraftModified } from \"../draft\";\nimport { useMediaQuery } from \"foundations/hooks/useMediaQuery\";\nimport { ThemeContext } from \"styled-components\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { sendMessage } from \"../sendMessage\";\nimport { getLoggedInUserId } from \"features/authentication/authenticationModel\";\nimport { FlexRow, StyledBox } from \"foundations/components/layout\";\nimport { Icon, Icons, Textarea } from \"foundations/components/presentation\";\n/**\n * Expand the height of the input box as multiple lines of text are entered.\n */\nconst autoExpand = (el: HTMLTextAreaElement) => {\n  setTimeout(function () {\n    el.style.cssText = \"height:auto; padding:0\";\n    el.style.cssText = \"height:\" + el.scrollHeight + \"px\";\n  }, 0);\n};\n\n/**\n * Update the text field on a draft text message by returning a new object if\n * the new text is different than the text in the old object.\n * This is the proper way to do updates to avoid unnecessary rerendering.\n */\nconst newTextDraft = (\n  draft: DraftTextMessage,\n  newText: string\n): DraftTextMessage => {\n  if (draft.text === newText) {\n    return draft;\n  }\n  return {\n    type: MessageType.Text,\n    senderId: draft.senderId,\n    text: newText\n  };\n};\n\ntype TextMessageEditorProps = {\n  message: DraftTextMessage;\n  sendDraft: (message: DraftTextMessage) => void;\n  updateDraft: (message: DraftTextMessage) => void;\n};\n\n/**\n * Edit a draft Text Message\n */\nexport const TextMessageEditor = ({\n  message,\n  sendDraft,\n  updateDraft\n}: TextMessageEditorProps) => {\n  const dispatch = useDispatch();\n  const userId = useSelector(getLoggedInUserId);\n  const theme = useContext(ThemeContext);\n  const touch = useMediaQuery(theme.mediaQueries.touch);\n  const text = message.text;\n  const textareaRef = useRef<HTMLTextAreaElement>(\n    document.createElement(\"textarea\")\n  );\n\n  const textChanged = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    updateDraft(newTextDraft(message, e.target.value));\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent<HTMLTextAreaElement>) => {\n    if (e.key === \"Enter\" && !(e.shiftKey || touch)) {\n      const draft = newTextDraft(message, text);\n      if (isDraftModified(draft)) {\n        sendDraft(draft);\n      }\n      e.preventDefault();\n    }\n    autoExpand(e.target as HTMLTextAreaElement);\n  };\n\n  const emojiInserted = (messageWithEmoji: string) => {\n    updateDraft(newTextDraft(message, messageWithEmoji));\n    textareaRef.current.focus();\n  };\n\n  // immediately send gifs (without creating a draft message)\n  const sendGif = (gif: IGif, query: string) => {\n    dispatch(\n      sendMessage({\n        type: MessageType.Giphy,\n        senderId: userId,\n        query,\n        gif\n      })\n    );\n  };\n\n  useEffect(() => {\n    autoExpand(textareaRef.current);\n  }, [textareaRef]);\n\n  return (\n    <FlexRow padding=\"2\">\n      <FlexRow flexGrow={1}>\n        <Textarea\n          ref={textareaRef}\n          rows={1}\n          value={text}\n          onChange={textChanged}\n          onKeyPress={handleKeyPress}\n          placeholder=\"Type Message\"\n        />\n      </FlexRow>\n\n      {process.env.REACT_APP_GIPHY_API_KEY && (\n        <GifInput onSelection={sendGif} />\n      )}\n\n      <StyledBox marginLeft=\"1\">\n        <EmojiInput value={text} onSelection={emojiInserted} />\n        <EmojiSuggestion value={text} onSelection={emojiInserted} />\n      </StyledBox>\n\n      {touch && (\n        <StyledBox\n          bg=\"active\"\n          color=\"onPrimary\"\n          padding=\"1\"\n          margin={-1}\n          marginLeft=\"1\"\n          borderRadius=\"light\"\n          onClick={() => isDraftModified(message) && sendDraft(message)}\n        >\n          <Icon icon={Icons.Send} title=\"Send Message\" />\n        </StyledBox>\n      )}\n    </FlexRow>\n  );\n};\n","import React from \"react\";\nimport invariant from \"invariant\";\nimport { DraftMessage } from \"../draft\";\nimport { MessageType } from \"../messageModel\";\nimport { TextMessageEditor } from \"../TextMessageEditor\";\nimport { BaseMessage } from \"sharedTypes/messageModel\";\nimport { StyledBox } from \"foundations/components/layout\";\n\ntype MessageEditorProps = {\n  message: DraftMessage;\n  sendDraft: (message: DraftMessage) => void;\n  updateDraft: (message: DraftMessage) => void;\n};\n\n/**\n * Edit a Draft Message by selecting the proper editor for the message type\n */\nexport const MessageEditor = ({\n  message,\n  sendDraft,\n  updateDraft\n}: MessageEditorProps) => {\n  switch (message.type) {\n    case MessageType.Text:\n      return (\n        <StyledBox\n          border=\"dark\"\n          borderRadius=\"messageEditor\"\n          position=\"relative\"\n        >\n          <TextMessageEditor\n            message={message}\n            sendDraft={sendDraft}\n            updateDraft={updateDraft}\n          ></TextMessageEditor>\n        </StyledBox>\n      );\n\n    // <== Add additional message types here.\n\n    // Don't show anything for an unrecognized message type\n    default:\n      invariant(\n        false,\n        `No editor available for draft message of type \"${\n          (message as BaseMessage).type\n        }\"`\n      );\n  }\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { createSelector } from \"reselect\";\nimport { getLoggedInUserId } from \"features/authentication/authenticationModel\";\nimport { getMessageDrafts } from \"features/joinedConversations/DraftsModel\";\nimport { updateMessageDraft } from \"features/joinedConversations/updateMessageDraftCommand\";\nimport { discardMessageDraft } from \"features/joinedConversations/discardMessageDraftCommand\";\nimport { sendMessage } from \"features/messages/sendMessage\";\nimport { sendTypingIndicator } from \"features/typingIndicator/sendTypingIndicator\";\nimport { MessageType } from \"features/messages/messageModel\";\nimport { DraftMessage } from \"features/messages/draft\";\nimport { MessageEditor } from \"features/messages/MessageEditor\";\nimport { getCurrentConversationId } from \"../currentConversationModel\";\nimport {\n  TYPING_INDICATOR_DURATION_SECONDS,\n  TypingIndicatorType\n} from \"features/typingIndicator/typingIndicatorModel\";\nimport { StyledBox } from \"foundations/components/layout\";\n\nconst typingIndicators: {\n  [conversationId: string]: boolean;\n} = {};\n\nconst getConversationMessageDraft = createSelector(\n  [getMessageDrafts, getCurrentConversationId],\n  (drafts, conversationId): DraftMessage | undefined => {\n    return drafts[conversationId];\n  }\n);\n\n/**\n * Allow editing and sending messages\n */\nexport const MessageInput = () => {\n  const conversationId: string = useSelector(getCurrentConversationId);\n  const userId: string = useSelector(getLoggedInUserId);\n  const storedDraft: DraftMessage | undefined = useSelector(\n    getConversationMessageDraft\n  );\n  const defaultDraft: DraftMessage = {\n    type: MessageType.Text,\n    senderId: userId,\n    text: \"\"\n  };\n  const message: DraftMessage = storedDraft ? storedDraft : defaultDraft;\n  const dispatch = useDispatch();\n\n  const notifyTyping = () => {\n    if (!typingIndicators[conversationId]) {\n      typingIndicators[conversationId] = true;\n      dispatch(sendTypingIndicator(TypingIndicatorType.ShowTypingIndicator));\n\n      // allow sending additional typing indicators 1 seconds before display duration ends\n      setTimeout(() => {\n        typingIndicators[conversationId] = false;\n      }, (TYPING_INDICATOR_DURATION_SECONDS - 1) * 1000);\n    }\n  };\n\n  const notifyStopTyping = () => {\n    if (typingIndicators[conversationId]) {\n      typingIndicators[conversationId] = false;\n      dispatch(sendTypingIndicator(TypingIndicatorType.HideTypingIndicator));\n    }\n  };\n\n  const send = (appMessage: DraftMessage) => {\n    dispatch(sendMessage(appMessage));\n    dispatch(discardMessageDraft(conversationId));\n    typingIndicators[conversationId] = false;\n  };\n\n  const update = (appMessage: DraftMessage) => {\n    dispatch(updateMessageDraft(conversationId, appMessage));\n\n    if (\"text\" in appMessage) {\n      if (appMessage.text.length > 0) {\n        notifyTyping();\n      } else {\n        notifyStopTyping();\n      }\n    }\n  };\n\n  return (\n    <StyledBox mx=\"6\" marginBottom=\"3\">\n      <MessageEditor\n        message={message}\n        sendDraft={send}\n        updateDraft={update}\n      ></MessageEditor>\n    </StyledBox>\n  );\n};\n","import { ThunkAction } from \"main/storeTypes\";\nimport { MESSAGE_DRAFT_DISCARDED } from \"./DraftsModel\";\n\n/**\n * Remove a message draft from the store for a specific conversation\n */\nexport const discardMessageDraft = (conversationId: string): ThunkAction => {\n  return dispatch => {\n    return dispatch({\n      type: MESSAGE_DRAFT_DISCARDED,\n      payload: {\n        conversationId\n      }\n    });\n  };\n};\n","import { ThunkAction } from \"main/storeTypes\";\nimport { MESSAGE_DRAFT_UPDATED } from \"./DraftsModel\";\nimport { DraftMessage } from \"features/messages/draft\";\n\n/**\n * Indicate that a draft message has been updated\n */\nexport const updateMessageDraft = (\n  conversationId: string,\n  newDraft: DraftMessage\n): ThunkAction => {\n  return dispatch => {\n    return dispatch({\n      type: MESSAGE_DRAFT_UPDATED,\n      payload: {\n        conversationId,\n        value: newDraft\n      }\n    });\n  };\n};\n","import React, { FunctionComponent } from \"react\";\nimport {\n  getTypingIndicatorsById,\n  TypingIndicator,\n  TypingIndicatorEnvelope,\n  TYPING_INDICATOR_DURATION_SECONDS\n} from \"../typingIndicatorModel\";\nimport { getCurrentConversationId } from \"features/currentConversation/currentConversationModel\";\nimport { getUsersById } from \"features/users/userModel\";\nimport { getLoggedInUserId } from \"features/authentication/authenticationModel\";\nimport { useSelector } from \"react-redux\";\nimport { createSelector } from \"reselect\";\nimport {\n  Label,\n  LabelSizes,\n  LabelVariants\n} from \"foundations/components/presentation\";\nimport { StyledBox } from \"foundations/components/layout\";\n\nexport interface TypingIndicatorFragment {\n  sender: {\n    id: string;\n    name: string;\n  };\n  timetoken: string;\n  message: TypingIndicator;\n}\n\nexport const getCurrentConversationTypingIndicators = createSelector(\n  [getTypingIndicatorsById, getCurrentConversationId, getUsersById],\n  (typingIndicators, conversationId, users): TypingIndicatorFragment[] => {\n    return typingIndicators[conversationId]\n      ? Object.values(\n          Object.values(typingIndicators[conversationId] || [])\n            .filter(\n              typingIndicator => typingIndicator.channel === conversationId\n            )\n            .reduce(\n              (\n                grouped: { [key: string]: TypingIndicatorEnvelope },\n                typingIndicator\n              ) => {\n                grouped[typingIndicator.publisher] = typingIndicator;\n                return grouped;\n              },\n              {}\n            )\n        )\n          .filter(\n            typingIndicator =>\n              Date.now() - typingIndicator.timetoken / 10000 <\n              TYPING_INDICATOR_DURATION_SECONDS * 1000\n          )\n          .map(typingIndicator => {\n            return {\n              ...typingIndicator,\n              timetoken: String(typingIndicator.timetoken),\n              sender:\n                users[typingIndicator.publisher || \"\"] ||\n                (typingIndicator.publisher\n                  ? {\n                      id: typingIndicator.publisher,\n                      name: typingIndicator.publisher\n                    }\n                  : {\n                      id: \"unknown\",\n                      name: \"unknown\"\n                    })\n            };\n          })\n      : [];\n  }\n);\n\nconst TypingLabel: FunctionComponent = ({ children }) => {\n  return (\n    <StyledBox px=\"6\" paddingBottom=\"1\">\n      <Label size={LabelSizes.SMALL} variant={LabelVariants.DARK}>\n        {children}\n      </Label>\n    </StyledBox>\n  );\n};\n\n/**\n * Display a Message based on its type\n */\nexport const TypingIndicatorDisplay = () => {\n  const typingIndicators: TypingIndicatorFragment[] = useSelector(\n    getCurrentConversationTypingIndicators\n  );\n  const loggedInUser = useSelector(getLoggedInUserId);\n\n  if (typingIndicators.length === 0) {\n    return <TypingLabel>&nbsp;</TypingLabel>;\n  } else if (typingIndicators.length === 1) {\n    const {\n      sender: { name, id }\n    } = typingIndicators[0];\n    return (\n      <TypingLabel>\n        {id === loggedInUser ? `You are` : `${name} is`} typing ...\n      </TypingLabel>\n    );\n  } else {\n    return <TypingLabel>Multiple users typing ...</TypingLabel>;\n  }\n};\n","import React from \"react\";\nimport { Header } from \"../Header\";\nimport { MessageList } from \"../MessageList\";\nimport { MessageInput } from \"../MessageInput\";\nimport { TypingIndicatorDisplay } from \"features/typingIndicator/TypingIndicatorDisplay\";\nimport { FlexColumn } from \"foundations/components/layout\";\n\nconst CurrentConversation = () => {\n  return (\n    <FlexColumn\n      height=\"100%\"\n      width=\"100%\"\n      position={[\"fixed\", \"static\"]}\n      bg=\"backgrounds.content\"\n      borderRight=\"light\"\n    >\n      <Header />\n      <MessageList />\n      <MessageInput />\n      <TypingIndicatorDisplay />\n    </FlexColumn>\n  );\n};\n\nexport { CurrentConversation };\n","import { AppState } from \"main/storeTypes\";\nimport { createSelector } from \"reselect\";\nimport { createChannelMembersReducer } from \"pubnub-redux\";\n\nexport type MembershipHash = { [id: string]: { id: string }[] };\n\nexport interface ConversationMembers {\n  [conversationId: string]: string[];\n}\n\nconst getByConversationIdSlice = (state: AppState) => state.conversationMembers;\n\nexport const getUsersByConversationId = createSelector(\n  [getByConversationIdSlice],\n  (users: { byId: MembershipHash }) => {\n    return users.byId;\n  }\n);\n\nconst ConversationMembersStateReducer = createChannelMembersReducer();\n\nexport { ConversationMembersStateReducer };\n","import React, { useContext } from \"react\";\nimport { ThemeContext } from \"styled-components\";\nimport useHover from \"foundations/hooks/useHover\";\nimport { Icon, Icons, Title } from \"foundations/components/presentation\";\nimport { Avatar, AvatarVariants } from \"foundations/components/chat\";\nimport { StyledBox, ListItem } from \"foundations/components/layout\";\nimport { getUniqueColor, getInitials } from \"foundations/utilities\";\n\nexport interface UserFragment {\n  name: string;\n  id: string;\n  custom: {\n    title: string;\n  };\n  profileUrl: string;\n  presence: boolean;\n}\n\ninterface MemberDescriptionProps {\n  user: UserFragment;\n  you: boolean;\n}\n\nconst MemberDescription = ({ user, you }: MemberDescriptionProps) => {\n  const [isHovering, hoverProps] = useHover({ mouseEnterDelayMS: 0 });\n  const theme = useContext(ThemeContext);\n  const avatarBg = getUniqueColor(\n    user.id,\n    (theme.colors.avatars as unknown) as string[]\n  );\n  const nameWithYou = `${user.name}${you ? \" (you)\" : \"\"}`;\n\n  return (\n    <ListItem bg={isHovering && theme.backgrounds.panelHover} {...hoverProps}>\n      <Avatar variant={AvatarVariants.ROUND} bg={avatarBg}>\n        {getInitials(user.name)}\n      </Avatar>\n\n      {user.presence && (\n        <StyledBox position=\"relative\" height={1}>\n          <StyledBox\n            position=\"absolute\"\n            top={0}\n            right={0}\n            style={{ transform: \"translate(50%, -50%)\" }}\n          >\n            <Icon icon={Icons.Presence} color={\"success\"} />\n          </StyledBox>\n        </StyledBox>\n      )}\n\n      <Title heading={nameWithYou} label={user.custom.title} capitalize></Title>\n    </ListItem>\n  );\n};\n\nexport { MemberDescription };\n","import React, { useEffect, useContext, useCallback } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { createSelector } from \"reselect\";\nimport { getViewStates } from \"features/layout/Selectors\";\nimport { UsersIndexedById, getUsersById } from \"features/users/userModel\";\nimport {\n  getUsersByConversationId,\n  MembershipHash\n} from \"../conversationMemberModel\";\nimport {\n  getPresenceByConversationId,\n  ConversationPresence\n} from \"features/memberPresence/memberPresenceModel\";\nimport { MemberDescription, UserFragment } from \"../MemberDescription\";\nimport { getCurrentConversationId } from \"features/currentConversation/currentConversationModel\";\n\nimport { Heading, Icon, Icons } from \"foundations/components/presentation\";\nimport { Avatar } from \"foundations/components/chat\";\nimport {\n  ScrollView,\n  Drawer,\n  StyledBox,\n  FlexRow\n} from \"foundations/components/layout\";\nimport { fetchChannelMembers, fetchHereNow } from \"pubnub-redux\";\nimport { usePubNub } from \"pubnub-react\";\nimport { conversationMembersViewHidden } from \"features/layout/LayoutActions\";\nimport { ThemeContext } from \"styled-components\";\nimport { getLoggedInUserId } from \"features/authentication/authenticationModel\";\nimport { getUniqueColor } from \"foundations/utilities\";\nimport { getCurrentConversationDescription } from \"features/currentConversation/Header\";\nimport {\n  usePagination,\n  GetNextPage,\n  SavePaginationState\n} from \"foundations/hooks/usePagination\";\nimport { ChannelMembersRetrievedAction } from \"pubnub-redux/dist/features/members/ChannelMembersActions\";\nimport { UUIDMembershipObject } from \"pubnub\";\nimport { getChannelMembersPaginationStateById } from \"features/pagination/Selectors\";\nimport { setChannelMembersPagination } from \"features/pagination/PaginationActions\";\n\nexport const getCurrentConversationMembers = createSelector(\n  [\n    getUsersById,\n    getCurrentConversationId,\n    getUsersByConversationId,\n    getPresenceByConversationId\n  ],\n  (\n    users: UsersIndexedById,\n    conversationId: string,\n    conversationMemberships: MembershipHash,\n    conversationPresence: ConversationPresence\n  ): UserFragment[] => {\n    const presence = conversationPresence[conversationId];\n    return conversationMemberships[conversationId]\n      ? conversationMemberships[conversationId].map(user => {\n          return {\n            ...users[user.id],\n            presence: presence\n              ? presence.occupants.filter(occupant => {\n                  return occupant.uuid === user.id;\n                }).length > 0\n              : false\n          };\n        })\n      : [];\n  }\n);\n\nconst orderByPresence = (members: UserFragment[]) => {\n  return members.sort((userA, userB) =>\n    userA.presence === userB.presence ? 0 : userA.presence ? -1 : 1\n  );\n};\nconst ConversationMembers = () => {\n  const userId = useSelector(getLoggedInUserId);\n  const members: UserFragment[] = useSelector(getCurrentConversationMembers);\n  const currentConversationId = useSelector(getCurrentConversationId);\n  const dispatch = useDispatch();\n  const pubnub = usePubNub();\n  const views = useSelector(getViewStates);\n  const theme = useContext(ThemeContext);\n  const conversation = useSelector(getCurrentConversationDescription);\n  const conversationColor = getUniqueColor(\n    conversation.name,\n    (theme.colors.avatars as unknown) as string[]\n  );\n\n  const storedPaginationState = useSelector(\n    getChannelMembersPaginationStateById\n  )[currentConversationId];\n\n  const restorePaginationState = useCallback(() => {\n    return storedPaginationState;\n  }, [storedPaginationState]);\n\n  const savePaginationState: SavePaginationState<\n    string | undefined,\n    string\n  > = useCallback(\n    (channel, pagination, count, pagesRemain) => {\n      dispatch(\n        setChannelMembersPagination(channel, { pagination, count, pagesRemain })\n      );\n    },\n    [dispatch]\n  );\n\n  const getNextPage: GetNextPage<\n    UUIDMembershipObject<{}, {}>,\n    string | undefined,\n    string\n  > = useCallback(\n    async (next, total, channel) => {\n      const pageSize = 100;\n      const action = ((await dispatch(\n        fetchChannelMembers({\n          limit: pageSize,\n          channel,\n          include: {\n            UUIDFields: true,\n            customUUIDFields: true,\n            totalCount: true\n          },\n          page: {\n            next: next || undefined\n          }\n        })\n      )) as unknown) as ChannelMembersRetrievedAction<{}, {}, unknown>;\n      const response = action.payload.response;\n      return {\n        results: response.data,\n        pagination: response.next,\n        pagesRemain:\n          response.totalCount && total\n            ? total + response.data.length < response.totalCount\n            : response.data.length === pageSize\n      };\n    },\n    [dispatch]\n  );\n\n  const { containerRef, endRef } = usePagination(\n    getNextPage,\n    currentConversationId,\n    savePaginationState,\n    restorePaginationState\n  );\n\n  // update hereNow when the conversationId changes\n  useEffect(() => {\n    dispatch(\n      fetchHereNow({\n        channels: [currentConversationId]\n      })\n    );\n  }, [currentConversationId, pubnub, dispatch]);\n\n  return (\n    <Drawer open={views.ConversationMembers} edge=\"right\" wide>\n      <StyledBox position=\"absolute\" right=\"0\" padding=\"6\">\n        <Icon\n          onClick={() => {\n            dispatch(conversationMembersViewHidden());\n          }}\n          icon={Icons.Cross}\n          color=\"normalText\"\n          title=\"Close members list\"\n          clickable\n        />\n      </StyledBox>\n\n      <FlexRow padding=\"6\">\n        <Avatar bg={conversationColor}>#</Avatar>\n        <StyledBox paddingLeft=\"6\">\n          <Heading>{conversation.name}</Heading>\n        </StyledBox>\n      </FlexRow>\n\n      <StyledBox px=\"6\" py=\"1\">\n        <Heading>Members</Heading>\n      </StyledBox>\n\n      <ScrollView ref={containerRef}>\n        {orderByPresence(members).map(user => (\n          <MemberDescription\n            user={user}\n            key={user.id}\n            you={user.id === userId}\n          />\n        ))}\n        <div ref={endRef} />\n      </ScrollView>\n    </Drawer>\n  );\n};\n\nexport { ConversationMembers };\n","import React, { useContext } from \"react\";\nimport { ThemeContext } from \"styled-components\";\nimport { getUniqueColor } from \"foundations/utilities\";\nimport {\n  Label,\n  LabelVariants,\n  Button\n} from \"foundations/components/presentation\";\nimport { Avatar } from \"foundations/components/chat\";\nimport { FlexRow, FlexColumn } from \"foundations/components/layout\";\n\n/**\n * This describes the data that this component needs to display a\n * description of a conversation\n */\nexport interface ConversationDescriptionFragment {\n  id: string;\n  name: string;\n  description: string;\n}\n\n/**\n * Define the properties required to produce a conversation description\n */\ninterface ConversationDescriptionProps {\n  conversation: ConversationDescriptionFragment;\n  onClick: () => void;\n}\n\n/**\n * Display a short desscription of a conversation as it would appear in\n * a list of conversations.  Notify the parent component if a click is\n * detected on the description.\n *\n * Similiar to ConversationItem but with different style and less functionality\n */\nconst ConversationDescription = ({\n  conversation,\n  onClick\n}: ConversationDescriptionProps) => {\n  const theme = useContext(ThemeContext);\n  const color = getUniqueColor(\n    conversation.name,\n    (theme.colors.avatars as unknown) as string[]\n  );\n  return (\n    <Button hoverBg={theme.backgrounds.contentHover}>\n      <FlexRow onClick={onClick} px=\"1\" py=\"6\" borderY=\"medium\">\n        <Avatar bg={color}>#</Avatar>\n        <FlexColumn marginLeft=\"5\" minHeight=\"1\">\n          <Label variant={LabelVariants.DARK}>{conversation.name}</Label>\n          <Label>{conversation.description}</Label>\n        </FlexColumn>\n      </FlexRow>\n    </Button>\n  );\n};\n\nexport { ConversationDescription };\n","import React, { useCallback } from \"react\";\nimport { getViewStates } from \"features/layout/Selectors\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { getLoggedInUserId } from \"features/authentication/authenticationModel\";\nimport {\n  ConversationDescription,\n  ConversationDescriptionFragment\n} from \"../ConversationDescription\";\nimport {\n  getConversationsByUserId,\n  MembershipHash\n} from \"../joinedConversationModel\";\nimport {\n  Heading,\n  HeadingSizes,\n  Icon,\n  Icons\n} from \"foundations/components/presentation\";\nimport { ScrollView, Modal, FlexRow } from \"foundations/components/layout\";\nimport { createSelector } from \"reselect\";\nimport {\n  getAllConversations,\n  Conversation\n} from \"features/conversations/conversationModel\";\nimport { joinConversation } from \"../joinConversationCommand\";\nimport { joinConversationViewHidden } from \"features/layout/LayoutActions\";\nimport {\n  usePagination,\n  GetNextPage,\n  SavePaginationState\n} from \"foundations/hooks/usePagination\";\nimport { ChannelMetadataObject } from \"pubnub\";\nimport { fetchAllChannelData } from \"pubnub-redux\";\nimport { AllChannelDataRetrievedAction } from \"pubnub-redux/dist/features/channel/ChannelDataActions\";\nimport { getChannelsPaginationState } from \"features/pagination/Selectors\";\nimport { setChannelsPagination } from \"features/pagination/PaginationActions\";\n\n// Fetch all conversations and remove the ones we're already a member of\nconst getJoinableConversations = createSelector(\n  [getAllConversations, getLoggedInUserId, getConversationsByUserId],\n  (\n    conversations: Conversation[],\n    userId: string,\n    joinedConversations: MembershipHash\n  ): ConversationDescriptionFragment[] => {\n    return conversations.filter(conversation => {\n      return !joinedConversations[userId]\n        .map(conv => conv.id)\n        .includes(conversation.id);\n    });\n  }\n);\n\n/**\n * Present list to the user of conversations that they could join, but have not.\n * Allow the user to select the conversation to join or back out.\n *\n * TODO: This renders unconditionally as display:none so it will fetch the\n * list of conversations to join when the UI is rendered even if the user has not\n * opened the dialog.\n */\nconst JoinConversationDialog = () => {\n  const conversations: ConversationDescriptionFragment[] = useSelector(\n    getJoinableConversations\n  );\n  const views = useSelector(getViewStates);\n  const currentUserId = useSelector(getLoggedInUserId);\n  const dispatch = useDispatch();\n\n  const storedPaginationState = useSelector(getChannelsPaginationState);\n\n  const restorePaginationState = useCallback(() => {\n    return storedPaginationState;\n  }, [storedPaginationState]);\n\n  const savePaginationState: SavePaginationState<\n    string | undefined,\n    undefined\n  > = useCallback(\n    (_, pagination, count, pagesRemain) => {\n      dispatch(setChannelsPagination({ pagination, count, pagesRemain }));\n    },\n    [dispatch]\n  );\n\n  const getNextPage: GetNextPage<\n    ChannelMetadataObject<{}>,\n    string | undefined,\n    undefined\n  > = useCallback(\n    async (next, total) => {\n      const pageSize = 20;\n      const action = ((await dispatch(\n        fetchAllChannelData({\n          limit: pageSize,\n          include: {\n            totalCount: true\n          },\n          page: {\n            next: next || undefined\n          }\n        })\n      )) as unknown) as AllChannelDataRetrievedAction<{}, unknown>;\n      const response = action.payload.response;\n      return {\n        results: response.data,\n        pagination: response.next,\n        pagesRemain:\n          response.totalCount && total\n            ? total + response.data.length < response.totalCount\n            : response.data.length === pageSize\n      };\n    },\n    [dispatch]\n  );\n\n  const { containerRef, endRef } = usePagination(\n    getNextPage,\n    undefined,\n    savePaginationState,\n    restorePaginationState\n  );\n\n  return (\n    <Modal open={views.JoinConversation}>\n      <FlexRow\n        justifyContent=\"space-between\"\n        px={[3, 0]}\n        paddingBottom={8}\n        paddingTop={[8, 0]}\n      >\n        <Heading size={HeadingSizes.BIG}>Join a Conversation</Heading>\n        <Icon\n          onClick={() => {\n            dispatch(joinConversationViewHidden());\n          }}\n          color={\"normalText\"}\n          icon={Icons.Cross}\n          title=\"Close\"\n          clickable\n        />\n      </FlexRow>\n\n      <ScrollView ref={containerRef}>\n        {conversations.map(conversation => (\n          <ConversationDescription\n            key={`conversationDescription-${conversation.id}`}\n            onClick={() => {\n              const conversationId = conversation.id;\n              dispatch(joinConversation(currentUserId, conversationId));\n              dispatch(joinConversationViewHidden());\n            }}\n            conversation={conversation}\n          />\n        ))}\n        <div ref={endRef} />\n      </ScrollView>\n    </Modal>\n  );\n};\n\nexport { JoinConversationDialog };\n","import { ThunkAction } from \"main/storeTypes\";\nimport { setMemberships } from \"pubnub-redux\";\nimport { focusOnConversation } from \"features/currentConversation/currentConversationModel\";\n\n/**\n * Join a conversation.\n * The membership in the conversation will be stored.\n * The channel for the converstation will be subscribed to to receive messages.\n * The new conversation will be made the selected conversation\n */\nexport const joinConversation = (\n  userId: string,\n  conversationId: string\n): ThunkAction<Promise<void>> => {\n  return (dispatch, getState, context) => {\n    return dispatch(\n      setMemberships({\n        uuid: userId,\n        channels: [{ id: conversationId }]\n      })\n    ).then(() => {\n      context.pubnub.api.subscribe({\n        channels: [conversationId],\n        withPresence: true\n      });\n      dispatch(focusOnConversation(conversationId));\n    });\n  };\n};\n","import React from \"react\";\nimport { Menu } from \"features/chat/Menu/Menu\";\nimport { CurrentConversation } from \"features/currentConversation/CurrentConversation/CurrentConversation\";\nimport { ConversationMembers } from \"features/conversationMembers/ConversationMembers/ConversationMembers\";\nimport { JoinConversationDialog } from \"features/joinedConversations/JoinConversationDialog/JoinConversationDialog\";\nimport { FlexRow } from \"foundations/components/layout\";\nconst ChatUI = () => {\n  return (\n    <FlexRow height=\"100%\">\n      <Menu />\n      <CurrentConversation />\n      <ConversationMembers />\n      <JoinConversationDialog />\n    </FlexRow>\n  );\n};\n\nexport { ChatUI };\n","export default {\n  publishKey: process.env.REACT_APP_PUBLISH_KEY || \"\",\n  subscribeKey: process.env.REACT_APP_SUBSCRIBE_KEY || \"\"\n};\n","type PubNubConfigurationObject = {\n  publishKey: string;\n  subscribeKey: string;\n};\n\nconst isPubNubConfigured = (keyConfiguration: PubNubConfigurationObject) =>\n  keyConfiguration.publishKey.length !== 0 &&\n  keyConfiguration.subscribeKey.length !== 0;\n\nexport default isPubNubConfigured;\n","import React from \"react\";\n\nimport { Wrapper } from \"./style\";\nimport { Login } from \"features/authentication/Login/Login\";\nimport { ChatUI } from \"features/chat/Chat\";\nimport { isUserLoggedIn } from \"features/authentication/authenticationModel\";\nimport { useSelector } from \"react-redux\";\nimport keyConfiguration from \"config/pubnub-keys\";\nimport isPubNubConfigured from \"foundations/utilities/isPubNubConfigured\";\nimport { FlexColumn } from \"foundations/components/layout\";\n\nconst ErrorBannerComponent = (\n  <FlexColumn\n    bg=\"error\"\n    color=\"onPrimary\"\n    padding=\"3\"\n    justifyContent=\"center\"\n    alignItems=\"center\"\n  >\n    <p>Please run</p>\n    <pre>npm setup</pre>\n  </FlexColumn>\n);\n\nexport const ApplicationRouter = () => {\n  const loggedIn = useSelector(isUserLoggedIn);\n  const view = loggedIn ? <ChatUI /> : <Login />;\n  return (\n    <Wrapper>\n      {!isPubNubConfigured(keyConfiguration) && ErrorBannerComponent}\n      {view}\n    </Wrapper>\n  );\n};\n","// theme based on the system-ui specification https://github.com/system-ui/theme-specification\n\n// Breakpoints\nconst breakpoints = [\"600px\", \"1200px\"] as const;\nconst mediaQueries = {\n  medium: `@media screen and (min-width: ${breakpoints[0]})`,\n  large: `@media screen and (min-width: ${breakpoints[1]})`,\n  touch: `@media (hover: none)`\n} as const;\n\n// Fonts\nconst fonts = { app: '\"Roboto\", sans-serif' } as const;\nconst fontSizes = [\n  \"0px\",\n  \"11px\",\n  \"12px\",\n  \"13px\",\n  \"15px\",\n  \"20px\",\n  \"24px\"\n] as const;\nconst fontSizesAliases = {\n  none: fontSizes[0],\n  small: fontSizes[1],\n  card: fontSizes[2],\n  regular: fontSizes[3],\n  medium: fontSizes[4],\n  large: fontSizes[5],\n  huge: fontSizes[6]\n};\nconst fontWeights = [0, 300, 400, 500, 700, 900] as const;\nconst fontWeightsAliases = {\n  none: fontWeights[0],\n  light: fontWeights[1],\n  regular: fontWeights[2],\n  medium: fontWeights[3],\n  bold: fontWeights[4],\n  black: fontWeights[5]\n};\n\n// Colors\nconst colors = {\n  error: \"#B63133\",\n  success: \"#62E905\",\n  inactive: \"#F5A623\",\n  primary: [\"#8E2DE2\", \"#4A00E0\"],\n  neutral: [\"#FFFFFF\", \"#F8F6FD\", \"#F1EDFD\", \"#9B9B9B\", \"#585858\"],\n  avatars: [\"#F7861C\", \"#35B7DF\", \"#DE2440\", \"#1F68EF\", \"#9F34C3\"]\n} as const;\n\nconst backgrounds = {\n  primary: `linear-gradient(180deg, ${colors.primary[0]} 0%, ${colors.primary[1]} 100%)`,\n  login:\n    \"linear-gradient(180deg, rgba(240, 42, 42, 0.670214) 0%, rgba(138, 42, 225, 0.55153) 100%)\",\n  primaryHover: \"rgba(255, 255, 255, 0.1)\",\n  primaryActive: \"rgba(0, 0, 0, 0.1)\",\n  panel: colors.neutral[0],\n  panelHover: colors.neutral[1],\n  content: colors.neutral[1],\n  contentHover: colors.neutral[2],\n  message: colors.neutral[0]\n};\n\nconst colorAliases = {\n  onPrimary: colors.neutral[0],\n  selectedText: \"rgba(0, 0, 0, 0.5)\",\n  active: colors.primary[0],\n  activeText: colors.neutral[0],\n  messageText: colors.neutral[4],\n  normalText: colors.neutral[3],\n  importantText: colors.neutral[4],\n  avatarText: colors.neutral[0],\n  borderLight: colors.neutral[2],\n  borderDark: colors.neutral[3],\n  backgrounds: backgrounds\n} as const;\n\n// Spacing & sizing\nconst sizes = [\"0\", \"36px\", \"56px\", \"85px\", \"260px\", \"290px\"] as const;\nconst space = [\n  \"0\",\n  \"10px\",\n  \"12px\",\n  \"14px\",\n  \"16px\",\n  \"21px\",\n  \"24px\",\n  \"32px\",\n  \"40px\"\n] as const;\n\n// Borders\nconst radii = [\"0\", \"5px\", \"10px\", \"100vmax\"] as const;\nconst radiiAliases = {\n  square: radii[0],\n  light: radii[1],\n  messageEditor: radii[1],\n  medium: radii[2],\n  strong: radii[2],\n  round: radii[3]\n};\nconst borderWidths = [\"0\", \"1px\", \"5px\"] as const;\nconst borderStyles = [\"solid\"] as const;\nconst borders = [\n  \"none\",\n  `${borderWidths[1]} ${borderStyles[0]} ${colorAliases.borderLight}`,\n  `${borderWidths[2]} ${borderStyles[0]}`,\n  `${borderWidths[1]} ${borderStyles[0]} ${colorAliases.borderDark}`,\n  `${borderWidths[1]} ${borderStyles[0]} ${colors.neutral[1]}`\n] as const;\nconst bordersAliases = {\n  none: borders[0],\n  light: borders[1],\n  strong: borders[2],\n  dark: borders[3],\n  medium: borders[4]\n};\n\n// Shadows\nconst shadows = [\n  \"0 6px 10px rgba(103, 19, 176, 0.06)\",\n  \"0px 6px 10px rgba(103, 19, 176, 0.2)\",\n  \"0 4px 30px rgba(0, 0, 0, 0.4)\"\n] as const;\n\n// Custom\nconst custom = {\n  dark: false,\n  companyName: \"PubNub\",\n  tagLine: \"World-Class APIs for In-App Chat\"\n} as const;\n\n// Exports\nexport const appTheme = {\n  breakpoints,\n  mediaQueries,\n  fonts,\n  fontSizes: { ...fontSizes, ...fontSizesAliases },\n  fontWeights: { ...fontWeights, ...fontWeightsAliases },\n  colors: { ...colors, ...colorAliases },\n  backgrounds,\n  sizes,\n  space,\n  radii: { ...radii, ...radiiAliases },\n  borderWidths,\n  borderStyles,\n  borders: { ...borders, ...bordersAliases },\n  shadows,\n  custom\n};\n\nexport type Theme = typeof appTheme;\n","import { createNetworkStatusReducer } from \"pubnub-redux\";\n\n/**\n * Create a reducer to hold the current online status of the user\n */\n\nconst NetworkStatusReducer = createNetworkStatusReducer(false);\nexport { NetworkStatusReducer };\n","import { PaginationActions } from \"./PaginationActions\";\nimport { PaginationActionType } from \"./PaginationActionType\";\n\nexport type PaginationState =\n  | {\n      pagination: string | undefined;\n      count: number | null;\n      pagesRemain: boolean;\n    }\n  | undefined;\n\ninterface PaginationSliceState {\n  users: PaginationState;\n  channels: PaginationState;\n  members: {\n    [channelId: string]: PaginationState;\n  };\n  memberships: {\n    [uuid: string]: PaginationState;\n  };\n  messages: {\n    [uuid: string]: PaginationState;\n  };\n}\n\nconst updatePagination = (\n  state: PaginationSliceState,\n  key: \"users\" | \"channels\",\n  paginationState: PaginationState\n): PaginationSliceState => {\n  return {\n    ...state,\n    [key]: paginationState\n  };\n};\n\nconst nestedUpdatePagination = (\n  state: PaginationSliceState,\n  key: \"members\" | \"memberships\" | \"messages\",\n  id: string,\n  paginationState: PaginationState\n): PaginationSliceState => {\n  return {\n    ...state,\n    [key]: {\n      ...state[key],\n      [id]: paginationState\n    }\n  };\n};\n\nconst initialState: PaginationSliceState = {\n  users: undefined,\n  channels: undefined,\n  members: {},\n  memberships: {},\n  messages: {}\n};\n\nexport const PaginationStateReducer = (\n  state: PaginationSliceState = initialState,\n  action: PaginationActions\n): PaginationSliceState => {\n  switch (action.type) {\n    case PaginationActionType.SET_USERS_PAGINATION:\n      return updatePagination(state, \"users\", action.payload);\n    case PaginationActionType.SET_CHANNELS_PAGINATION:\n      return updatePagination(state, \"channels\", action.payload);\n    case PaginationActionType.SET_CHANNEL_MEMBERS_PAGINATION:\n      return nestedUpdatePagination(\n        state,\n        \"members\",\n        action.payload.channelId,\n        action.payload.state\n      );\n    case PaginationActionType.SET_MEMBERSHIPS_PAGINATION:\n      return nestedUpdatePagination(\n        state,\n        \"memberships\",\n        action.payload.uuid,\n        action.payload.state\n      );\n    case PaginationActionType.SET_HISTORY_PAGINATION:\n      return nestedUpdatePagination(\n        state,\n        \"messages\",\n        action.payload.channelId,\n        action.payload.state\n      );\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\n\nimport { currentConversationStateReducer } from \"features/currentConversation/currentConversationModel\";\nimport { LayoutStateReducer } from \"features/layout/LayoutReducer\";\nimport { UsersReducer } from \"features/users/userModel\";\nimport { AuthenticationStateReducer } from \"features/authentication/authenticationModel\";\nimport { MessageStateReducer } from \"features/messages/messageModel\";\nimport { TypingIndicatorStateReducer } from \"features/typingIndicator/typingIndicatorModel\";\nimport { conversationStateReducer } from \"features/conversations/conversationModel\";\nimport { JoinedConversationsStateReducer } from \"features/joinedConversations/joinedConversationModel\";\nimport { ConversationDraftStateReducer } from \"features/joinedConversations/DraftsModel\";\nimport { ConversationMembersStateReducer } from \"features/conversationMembers/conversationMemberModel\";\nimport { ConversationMembersCountStateReducer } from \"features/conversationMembers/conversationMemberCountModel\";\nimport { NetworkStatusReducer } from \"features/currentUser/networkStatusModel\";\nimport { MemberPresenceReducer } from \"features/memberPresence/memberPresenceModel\";\nimport { PaginationStateReducer } from \"features/pagination/PaginationReducer\";\n\n/**\n * Combine all of the reducers in this application\n */\nconst rootReducer = combineReducers({\n  layout: LayoutStateReducer,\n  networkStatus: NetworkStatusReducer,\n  users: UsersReducer,\n  conversations: conversationStateReducer,\n  joinedConversations: JoinedConversationsStateReducer,\n  drafts: ConversationDraftStateReducer,\n  conversationMembers: ConversationMembersStateReducer,\n  conversationMembersCount: ConversationMembersCountStateReducer,\n  memberPresence: MemberPresenceReducer,\n  messages: MessageStateReducer,\n  typingIndicators: TypingIndicatorStateReducer,\n  authentication: AuthenticationStateReducer,\n  currentConversation: currentConversationStateReducer,\n  pagination: PaginationStateReducer\n});\n\nexport default rootReducer;\n\n/**\n * RootState describes the shape of the global Redux store in this application\n */\nexport type RootState = Readonly<ReturnType<typeof rootReducer>>;\n","// Define built-in bootstrap data for this application\nconst preloadedState = {};\n\nexport default preloadedState;\n","import { createStore, applyMiddleware, compose } from \"redux\";\nimport ReduxThunk from \"redux-thunk\";\nimport rootReducer from \"./rootReducer\";\nimport { AppStore, AppThunkContext } from \"./storeTypes\";\nimport preloadedState from \"./preloadedState\";\n\n// Setup Redux Dev Tools\nexport const composeEnhancers =\n  (process.env.NODE_ENV === \"development\" &&\n    window &&\n    (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\n  compose;\n\n// Note: we do not attempt to make the proper types by passing\n// types to the parameters of createStore.  The type definitions there are tricky\n// to work with and possibly buggy as of Redux 4.0.4.\n// Instead, we create a definition of the final store we want and declare the\n// CreateAppStore to return that type of store.\n\n/**\n * Create a redux store configured for this application\n */\nexport const createAppStore = (thunkContext: AppThunkContext): AppStore => {\n  const storeEnhancer = composeEnhancers(\n    applyMiddleware(ReduxThunk.withExtraArgument(thunkContext))\n  );\n\n  return createStore(rootReducer, preloadedState, storeEnhancer);\n};\n","import React, { useEffect } from \"react\";\nimport GlobalStyles from \"main/styles/GlobalStyles\";\nimport Normalize from \"main/styles/Normalize\";\nimport { ApplicationRouter } from \"./Router\";\nimport { appTheme } from \"./Theme\";\nimport Pubnub from \"pubnub\";\nimport { createPubNubListener } from \"pubnub-redux\";\nimport { PubNubProvider } from \"pubnub-react\";\nimport { Provider } from \"react-redux\";\nimport { createAppStore } from \"main/store\";\nimport keyConfiguration from \"config/pubnub-keys\";\nimport { ThemeProvider } from \"styled-components\";\nimport { createTypingIndicatorsListener } from \"features/typingIndicator/typingIndicatorModel\";\n\nconst pubnubConfig = Object.assign(\n  {},\n  {\n    // Ensure that subscriptions will be retained if the network connection is lost\n    restore: true,\n    heartbeatInterval: 0\n  },\n  keyConfiguration\n);\nconst pubnub = new Pubnub(pubnubConfig);\n\nconst store = createAppStore({\n  pubnub: {\n    api: pubnub\n  }\n});\n\nconst leaveApplication = () => {\n  // This is required to show the current user leave immediately rather than\n  // wating for the timeout period\n  pubnub.unsubscribeAll();\n};\n\nconst App = () => {\n  useEffect(() => {\n    // Start listening for messages and events from PubNub\n    pubnub.addListener(createPubNubListener(store.dispatch));\n    pubnub.addListener(createTypingIndicatorsListener(store.dispatch));\n    return leaveApplication;\n  }, []);\n\n  useEffect(() => {\n    window.addEventListener(\"beforeunload\", leaveApplication);\n  }, []);\n\n  return (\n    <ThemeProvider theme={appTheme}>\n      <Provider store={store}>\n        <PubNubProvider client={pubnub}>\n          <Normalize />\n          <GlobalStyles />\n          <ApplicationRouter />\n        </PubNubProvider>\n      </Provider>\n    </ThemeProvider>\n  );\n};\n\nexport { App };\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { App } from \"./main/App\";\nimport * as serviceWorker from \"./main/serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/background.fcad69ea.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.85dc561e.svg\";","module.exports = __webpack_public_path__ + \"static/media/screenshot.547f1a66.png\";"],"sourceRoot":""}